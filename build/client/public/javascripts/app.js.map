{"version":3,"file":"public/javascripts/app.js","sources":["app/application.coffee","app/collections/alarms.coffee","app/collections/contacts.coffee","app/collections/daybuckets.coffee","app/collections/events.coffee","app/collections/scheduleitems.coffee","app/collections/tags.coffee","app/helpers.coffee","app/helpers/timezone.coffee","app/initialize.coffee","app/lib/app_helpers.coffee","app/lib/base_view.coffee","app/lib/colorhash.coffee","app/lib/random.coffee","app/lib/socket_listener.coffee","app/lib/view.coffee","app/lib/view_collection.coffee","app/locales/en.coffee","app/locales/fr.coffee","app/models/alarm.coffee","app/models/contact.coffee","app/models/event.coffee","app/models/scheduleitem.coffee","app/router.coffee","app/views/calendar_header.coffee","app/views/calendar_popover.coffee","app/views/calendar_view.coffee","app/views/event_modal.coffee","app/views/event_modal_guest.coffee","app/views/event_modal_rrule.coffee","app/views/import_alarm_list.coffee","app/views/import_alarm_view.coffee","app/views/import_event_list.coffee","app/views/import_event_view.coffee","app/views/import_view.coffee","app/views/list_view.coffee","app/views/list_view_bucket.coffee","app/views/list_view_item.coffee","app/views/menu.coffee","app/views/menu_item.coffee","app/views/sync_view.coffee","app/views/tags.coffee","app/views/templates/calendar_header.jade","app/views/templates/calendarview.jade","app/views/templates/event_modal.jade","app/views/templates/event_modal_guest.jade","app/views/templates/event_modal_rrule.jade","app/views/templates/import_alarm.jade","app/views/templates/import_event.jade","app/views/templates/import_view.jade","app/views/templates/list_view.jade","app/views/templates/list_view_bucket.jade","app/views/templates/list_view_item.jade","app/views/templates/menu.jade","app/views/templates/menu_item.jade","app/views/templates/popover_content.jade","app/views/templates/popover_title.jade","app/views/templates/sync_view.jade","app/views/toggle.coffee","app/views/widgets/combobox.coffee"],"names":[],"mappings":"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AAA,MAEA,eAAiB,IAAC,SAFlB;KADJ,CADA;AAAA,IAOA,IAAC,cAAD,GAAiB,KAPjB;AASA,WAAO,IAAP,CAVQ;EAAA,CAAZ;;AAAA,qBAYA,WAAU,SAAC,EAAD,EAAK,EAAL;WACN,EAAE,CAAC,GAAG,CAAC,GAAP,CAAW,kBAAX,EAA+B,UAAU,EAAE,CAAC,QAAb,CAA/B,EADM;EAAA,CAZV;;AAAA,qBAeA,UAAS;WACL,IAAC,IAAG,CAAC,KAAL,CAAW,cAAX,EADK;EAAA,CAfT;;AAAA,qBAkBA,UAAS;AACL;AAAA,QAAC,cAAD,GAAiB,IAAjB;AAAA,IACA,IAAC,IAAG,CAAC,KAAL,CAAW,WAAX,CADA;AAEA;AAAA;qBAAA;AACI,UAAC,IAAG,CAAC,KAAL,CAAW,WAAX,EAAwB,GAAxB,EADJ;AAAA,KAFA;WAIA,IAAC,cAAD,GAAiB,MALZ;EAAA,CAlBT;;kBAAA;;GAFoC,SAJxC;;;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA5BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA/BA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAfA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAjBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AA7CA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AApBA;AAAA;CCAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;A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","sourcesContent":["module.exports =\n\n    initialize: ->\n\n        window.app = @\n\n        @locale = window.locale\n        delete window.locale\n\n\n        @polyglot = new Polyglot()\n        try\n            locales = require 'locales/'+ @locale\n        catch e\n            locales = require 'locales/en'\n\n        @polyglot.extend locales\n        window.t = @polyglot.t.bind @polyglot\n        Date.setLocale @locale\n\n        Router = require 'router'\n        Menu = require 'views/menu'\n        Header = require 'views/calendar_header'\n        SocketListener = require '../lib/socket_listener'\n        AlarmCollection = require 'collections/alarms'\n        EventCollection = require 'collections/events'\n        ContactCollection = require 'collections/contacts'\n        TagsCollection = require 'collections/tags'\n\n        @alarms = new AlarmCollection()\n        @events = new EventCollection()\n        @contacts = new ContactCollection()\n        @tags = new TagsCollection()\n\n        @router = new Router()\n        @menu = new Menu(collection: @tags)\n        @menu.render().$el.prependTo 'body'\n\n        SocketListener.watch @alarms\n        SocketListener.watch @events\n\n        if window.initalarms?\n            @alarms.reset window.initalarms\n            delete window.initalarms\n\n        if window.initevents?\n            @events.reset window.initevents\n            delete window.initevents\n\n        if window.initcontacts\n            @contacts.reset window.initcontacts\n            delete window.initcontacts\n\n\n        Backbone.history.start()\n\n\n        Object.freeze this if typeof Object.freeze is 'function'\n","ScheduleItemsCollection = require './scheduleitems'\nAlarm = require '../models/alarm'\n\nmodule.exports = class AlarmCollection extends ScheduleItemsCollection\n\n    model: Alarm\n    url: 'alarms'","Contact = require '../models/contact'\n\nmodule.exports = class ContactCollection extends Backbone.Collection\n\n    model: Contact\n    url: 'contacts'\n\n    asTypeaheadSource: (query) ->\n        regexp = new RegExp(query);\n        contacts = @filter((contact) -> contact.match regexp)\n        items = []\n        contacts.forEach (contact) ->\n            contact.get('emails').forEach (email) ->\n                items.push\n                    id: contact.id\n                    display: \"#{contact.get 'name'} &lt;#{email.value}&gt;\"\n                    toString: -> \"#{email.value};#{contact.id}\"\n\n        return items\n\n\n\n","ScheduleItemsCollection = require './scheduleitems'\n\nDayBucket = class DayBucket extends Backbone.Model\n    constructor: (model) ->\n        super\n            id: model.getDateHash()\n            date: model.getDateObject().clone().beginningOfDay()\n    initialize: ->\n        @items = new ScheduleItemsCollection()\n\n# DayBucket Collection\n# mix alarms & events into one collection\n# split into DayBucket (= group by day)\nmodule.exports = class DayBucketCollection extends Backbone.Collection\n\n    model: DayBucket\n    comparator: (db1, db2) ->\n        d1 = Date.create db1.get('date')\n        d2 = Date.create db2.get('date')\n        if d1 < d2 then return -1\n        else if d1 > d2 then return 1\n        else return 0\n\n    initialize: ->\n        @alarmCollection = app.alarms\n        @eventCollection = app.events\n        @tagsCollection = app.tags\n\n        @listenTo @alarmCollection, 'add', @onBaseCollectionAdd\n        @listenTo @alarmCollection, 'change:trigg', @onBaseCollectionChange\n        @listenTo @alarmCollection, 'remove', @onBaseCollectionRemove\n        @listenTo @alarmCollection, 'reset', @resetFromBase\n\n        @listenTo @eventCollection, 'add', @onBaseCollectionAdd\n        @listenTo @eventCollection, 'change:start', @onBaseCollectionChange\n        @listenTo @eventCollection, 'remove', @onBaseCollectionRemove\n        @listenTo @eventCollection, 'reset', @resetFromBase\n\n        @listenTo @tagsCollection, 'change', @resetFromBase\n\n        @resetFromBase()\n\n    resetFromBase: ->\n        @reset []\n        @alarmCollection.each (model) => @onBaseCollectionAdd model\n        @eventCollection.each (model) => @onBaseCollectionAdd model\n\n    onBaseCollectionChange: (model) ->\n        oldbucket = @get model.getPreviousDateHash()\n        newbucket = @get model.getDateHash()\n        return if oldbucket is newbucket\n        oldbucket.items.remove model\n        @remove oldbucket if oldbucket.items.length is 0\n        @add(newbucket = new DayBucket model) unless newbucket\n        newbucket.items.add model\n\n    onBaseCollectionAdd: (model) ->\n        bucket = @get model.getDateHash()\n\n        tag = @tagsCollection.findWhere label: model.getCalendar()\n        return null if tag and tag.get('visible') is false\n\n        @add(bucket = new DayBucket model) unless bucket\n        bucket.items.add model\n\n    onBaseCollectionRemove: (model) ->\n        bucket = @get model.getDateHash()\n        bucket.items.remove model\n        @remove bucket if bucket.items.length is 0\n\n","ScheduleItemsCollection = require './scheduleitems'\nEvent = require '../models/event'\n\nmodule.exports = class EventCollection extends ScheduleItemsCollection\n\n    model: Event\n    url: 'events'","module.exports = class ScheduleItemsCollection extends Backbone.Collection\n\n    model: require '../models/scheduleitem'\n    comparator: (si1, si2) ->\n\n        t1 = si1.getDateObject().getTime()\n        t2 = si2.getDateObject().getTime()\n\n        if t1 < t2 then return -1\n        else if t1 is t2 then return 0\n        else return 1\n\n    getFCEventSource: (tags) =>\n        return (start, end, callback) =>\n            eventsInRange = []\n            @each (item) ->\n                itemStart = item.getStartDateObject()\n                itemEnd = item.getEndDateObject()\n                duration = itemEnd - itemStart\n\n                tag = tags.findWhere label: item.getCalendar()\n                return null if tag and tag.get('visible') is false\n\n                if rrule = item.getRRuleObject()\n                    for rdate in rrule.between Date.create(start - duration), end\n                        eventsInRange.push item.toFullCalendarEvent rdate\n\n                else if item.isInRange start, end\n                    eventsInRange.push item.toFullCalendarEvent()\n\n            callback eventsInRange","module.exports = class Tags extends Backbone.Collection\n\n    url: 'tags'\n    model: class Tag extends Backbone.Model\n        idAttribute: 'label'\n        defaults: visible: true\n        toString: -> @get 'label'\n\n    initialize: ->\n        @alarmCollection = app.alarms\n        @eventCollection = app.events\n\n        @listenTo @alarmCollection, 'add', @onBaseCollectionAdd\n        @listenTo @alarmCollection, 'change:tags', @onBaseCollectionChange\n        @listenTo @alarmCollection, 'remove', @onBaseCollectionRemove\n        @listenTo @alarmCollection, 'reset', @resetFromBase\n\n        @listenTo @eventCollection, 'add', @onBaseCollectionAdd\n        @listenTo @eventCollection, 'change:tags', @onBaseCollectionChange\n        @listenTo @eventCollection, 'remove', @onBaseCollectionRemove\n        @listenTo @eventCollection, 'reset', @resetFromBase\n\n        @resetFromBase()\n\n    resetFromBase: ->\n        @reset []\n        @alarmCollection.each (model) => @onBaseCollectionAdd model\n        @eventCollection.each (model) => @onBaseCollectionAdd model\n\n    onBaseCollectionChange: (model) ->\n        @resetFromBase()\n\n    onBaseCollectionAdd: (model) ->\n        [calendar, tags...] = model.get 'tags'\n        @add type: 'calendar', label:calendar\n        @add type: 'tag', label:tag for tag in tags\n\n    onBaseCollectionRemove: (model) ->\n        @resetFromBase()\n\n    parse: (raw) ->\n        out = []\n        out.push type:'calendar', label:tag for tag in raw.calendars\n        out.push type:'tag',      label:tag for tag in raw.tags\n        return out\n\n    stringify = (tag) -> tag.toString()\n\n    toArray: -> @map stringify\n    calendars: -> @where(type:'calendar').map (tag) -> tag.attributes","exports.formatDateISO8601 = (fullDate) ->\n\n    fullDate = fullDate.split /#/\n\n    if fullDate[0].match(/([0-9]{2}\\/){2}[0-9]{4}/)\n        date = fullDate[0].split /[\\/]/\n        date = \"#{date[2]}-#{date[1]}-#{date[0]}\"\n    else\n        date = \"undefined\"\n\n    if fullDate[1].match(/[0-9]{2}:[0-9]{2}/)\n        time = fullDate[1].split /:/\n        time = \"#{time[0]}:#{time[1]}:00\"\n    else\n        time = \"undefined\"\n\n    return \"#{date}T#{time}\"\n\n\nexports.isDatePartValid = (date) ->\n    date = date.split('T')\n    return date[0].match(/[0-9]{8}/)?\n\n\nexports.isTimePartValid = (date) ->\n    date = date.split('T')\n    return date[1].match(/[0-9]{6}Z/)?\n\n\nexports.icalToISO8601 = (icalDate) ->\n    date = icalDate.split('T')\n\n    year = date[0].slice 0, 4\n    month = date[0].slice 4, 6\n    day = date[0].slice 6, 8\n    hours = date[1].slice 0, 2\n    minutes = date[1].slice 2, 4\n\n    return \"#{year}-#{month}-#{day}T#{hours}:#{minutes}Z\"\n\n\nexports.isEvent = (start, end) ->\n    if start[0] is end[0]\n        if start[1] is \"00\" and end[1] is \"30\"\n            return false\n    else if parseInt(start[0])+1 is parseInt(end[0]) and start[1] is \"30\" and\n            end[1] is \"00\"\n        return false\n    else\n        return true\n","exports.timezones = [\n    \"Africa/Abidjan\"\n    \"Africa/Accra\"\n    \"Africa/Addis_Ababa\"\n    \"Africa/Algiers\"\n    \"Africa/Asmara\"\n    \"Africa/Bamako\"\n    \"Africa/Bangui\"\n    \"Africa/Banjul\"\n    \"Africa/Bissau\"\n    \"Africa/Blantyre\"\n    \"Africa/Brazzaville\"\n    \"Africa/Bujumbura\"\n    \"Africa/Cairo\"\n    \"Africa/Casablanca\"\n    \"Africa/Ceuta\"\n    \"Africa/Conakry\"\n    \"Africa/Dakar\"\n    \"Africa/Dar_es_Salaam\"\n    \"Africa/Djibouti\"\n    \"Africa/Douala\"\n    \"Africa/El_Aaiun\"\n    \"Africa/Freetown\"\n    \"Africa/Gaborone\"\n    \"Africa/Harare\"\n    \"Africa/Johannesburg\"\n    \"Africa/Kampala\"\n    \"Africa/Khartoum\"\n    \"Africa/Kigali\"\n    \"Africa/Kinshasa\"\n    \"Africa/Lagos\"\n    \"Africa/Libreville\"\n    \"Africa/Lome\"\n    \"Africa/Luanda\"\n    \"Africa/Lubumbashi\"\n    \"Africa/Lusaka\"\n    \"Africa/Malabo\"\n    \"Africa/Maputo\"\n    \"Africa/Maseru\"\n    \"Africa/Mbabane\"\n    \"Africa/Mogadishu\"\n    \"Africa/Monrovia\"\n    \"Africa/Nairobi\"\n    \"Africa/Ndjamena\"\n    \"Africa/Niamey\"\n    \"Africa/Nouakchott\"\n    \"Africa/Ouagadougou\"\n    \"Africa/Porto-Novo\"\n    \"Africa/Sao_Tome\"\n    \"Africa/Tripoli\"\n    \"Africa/Tunis\"\n    \"Africa/Windhoek\"\n    \"America/Adak\"\n    \"America/Anchorage\"\n    \"America/Anguilla\"\n    \"America/Antigua\"\n    \"America/Araguaina\"\n    \"America/Argentina/Buenos_Aires\"\n    \"America/Argentina/Catamarca\"\n    \"America/Argentina/Cordoba\"\n    \"America/Argentina/Jujuy\"\n    \"America/Argentina/La_Rioja\"\n    \"America/Argentina/Mendoza\"\n    \"America/Argentina/Rio_Gallegos\"\n    \"America/Argentina/Salta\"\n    \"America/Argentina/San_Juan\"\n    \"America/Argentina/San_Luis\"\n    \"America/Argentina/Tucuman\"\n    \"America/Argentina/Ushuaia\"\n    \"America/Aruba\"\n    \"America/Asuncion\"\n    \"America/Atikokan\"\n    \"America/Bahia\"\n    \"America/Barbados\"\n    \"America/Belem\"\n    \"America/Belize\"\n    \"America/Blanc-Sablon\"\n    \"America/Boa_Vista\"\n    \"America/Bogota\"\n    \"America/Boise\"\n    \"America/Cambridge_Bay\"\n    \"America/Campo_Grande\"\n    \"America/Cancun\"\n    \"America/Caracas\"\n    \"America/Cayenne\"\n    \"America/Cayman\"\n    \"America/Chicago\"\n    \"America/Chihuahua\"\n    \"America/Costa_Rica\"\n    \"America/Cuiaba\"\n    \"America/Curacao\"\n    \"America/Danmarkshavn\"\n    \"America/Dawson\"\n    \"America/Dawson_Creek\"\n    \"America/Denver\"\n    \"America/Detroit\"\n    \"America/Dominica\"\n    \"America/Edmonton\"\n    \"America/Eirunepe\"\n    \"America/El_Salvador\"\n    \"America/Fortaleza\"\n    \"America/Glace_Bay\"\n    \"America/Godthab\"\n    \"America/Goose_Bay\"\n    \"America/Grand_Turk\"\n    \"America/Grenada\"\n    \"America/Guadeloupe\"\n    \"America/Guatemala\"\n    \"America/Guayaquil\"\n    \"America/Guyana\"\n    \"America/Halifax\"\n    \"America/Havana\"\n    \"America/Hermosillo\"\n    \"America/Indiana/Indianapolis\"\n    \"America/Indiana/Knox\"\n    \"America/Indiana/Marengo\"\n    \"America/Indiana/Petersburg\"\n    \"America/Indiana/Tell_City\"\n    \"America/Indiana/Vevay\"\n    \"America/Indiana/Vincennes\"\n    \"America/Indiana/Winamac\"\n    \"America/Inuvik\"\n    \"America/Iqaluit\"\n    \"America/Jamaica\"\n    \"America/Juneau\"\n    \"America/Kentucky/Louisville\"\n    \"America/Kentucky/Monticello\"\n    \"America/La_Paz\"\n    \"America/Lima\"\n    \"America/Los_Angeles\"\n    \"America/Maceio\"\n    \"America/Managua\"\n    \"America/Manaus\"\n    \"America/Martinique\"\n    \"America/Matamoros\"\n    \"America/Mazatlan\"\n    \"America/Menominee\"\n    \"America/Merida\"\n    \"America/Mexico_City\"\n    \"America/Miquelon\"\n    \"America/Moncton\"\n    \"America/Monterrey\"\n    \"America/Montevideo\"\n    \"America/Montreal\"\n    \"America/Montserrat\"\n    \"America/Nassau\"\n    \"America/New_York\"\n    \"America/Nipigon\"\n    \"America/Nome\"\n    \"America/Noronha\"\n    \"America/North_Dakota/Center\"\n    \"America/North_Dakota/New_Salem\"\n    \"America/Ojinaga\"\n    \"America/Panama\"\n    \"America/Pangnirtung\"\n    \"America/Paramaribo\"\n    \"America/Phoenix\"\n    \"America/Port-au-Prince\"\n    \"America/Port_of_Spain\"\n    \"America/Porto_Velho\"\n    \"America/Puerto_Rico\"\n    \"America/Rainy_River\"\n    \"America/Rankin_Inlet\"\n    \"America/Recife\"\n    \"America/Regina\"\n    \"America/Resolute\"\n    \"America/Rio_Branco\"\n    \"America/Santa_Isabel\"\n    \"America/Santarem\"\n    \"America/Santiago\"\n    \"America/Santo_Domingo\"\n    \"America/Sao_Paulo\"\n    \"America/Scoresbysund\"\n    \"America/St_Johns\"\n    \"America/St_Kitts\"\n    \"America/St_Lucia\"\n    \"America/St_Thomas\"\n    \"America/St_Vincent\"\n    \"America/Swift_Current\"\n    \"America/Tegucigalpa\"\n    \"America/Thule\"\n    \"America/Thunder_Bay\"\n    \"America/Tijuana\"\n    \"America/Toronto\"\n    \"America/Tortola\"\n    \"America/Vancouver\"\n    \"America/Whitehorse\"\n    \"America/Winnipeg\"\n    \"America/Yakutat\"\n    \"America/Yellowknife\"\n    \"Antarctica/Casey\"\n    \"Antarctica/Davis\"\n    \"Antarctica/DumontDUrville\"\n    \"Antarctica/Mawson\"\n    \"Antarctica/McMurdo\"\n    \"Antarctica/Palmer\"\n    \"Antarctica/Rothera\"\n    \"Antarctica/Syowa\"\n    \"Antarctica/Vostok\"\n    \"Asia/Aden\"\n    \"Asia/Almaty\"\n    \"Asia/Amman\"\n    \"Asia/Anadyr\"\n    \"Asia/Aqtau\"\n    \"Asia/Aqtobe\"\n    \"Asia/Ashgabat\"\n    \"Asia/Baghdad\"\n    \"Asia/Bahrain\"\n    \"Asia/Baku\"\n    \"Asia/Bangkok\"\n    \"Asia/Beirut\"\n    \"Asia/Bishkek\"\n    \"Asia/Brunei\"\n    \"Asia/Choibalsan\"\n    \"Asia/Chongqing\"\n    \"Asia/Colombo\"\n    \"Asia/Damascus\"\n    \"Asia/Dhaka\"\n    \"Asia/Dili\"\n    \"Asia/Dubai\"\n    \"Asia/Dushanbe\"\n    \"Asia/Gaza\"\n    \"Asia/Harbin\"\n    \"Asia/Ho_Chi_Minh\"\n    \"Asia/Hong_Kong\"\n    \"Asia/Hovd\"\n    \"Asia/Irkutsk\"\n    \"Asia/Jakarta\"\n    \"Asia/Jayapura\"\n    \"Asia/Jerusalem\"\n    \"Asia/Kabul\"\n    \"Asia/Kamchatka\"\n    \"Asia/Karachi\"\n    \"Asia/Kashgar\"\n    \"Asia/Kathmandu\"\n    \"Asia/Kolkata\"\n    \"Asia/Krasnoyarsk\"\n    \"Asia/Kuala_Lumpur\"\n    \"Asia/Kuching\"\n    \"Asia/Kuwait\"\n    \"Asia/Macau\"\n    \"Asia/Magadan\"\n    \"Asia/Makassar\"\n    \"Asia/Manila\"\n    \"Asia/Muscat\"\n    \"Asia/Nicosia\"\n    \"Asia/Novokuznetsk\"\n    \"Asia/Novosibirsk\"\n    \"Asia/Omsk\"\n    \"Asia/Oral\"\n    \"Asia/Phnom_Penh\"\n    \"Asia/Pontianak\"\n    \"Asia/Pyongyang\"\n    \"Asia/Qatar\"\n    \"Asia/Qyzylorda\"\n    \"Asia/Rangoon\"\n    \"Asia/Riyadh\"\n    \"Asia/Sakhalin\"\n    \"Asia/Samarkand\"\n    \"Asia/Seoul\"\n    \"Asia/Shanghai\"\n    \"Asia/Singapore\"\n    \"Asia/Taipei\"\n    \"Asia/Tashkent\"\n    \"Asia/Tbilisi\"\n    \"Asia/Tehran\"\n    \"Asia/Thimphu\"\n    \"Asia/Tokyo\"\n    \"Asia/Ulaanbaatar\"\n    \"Asia/Urumqi\"\n    \"Asia/Vientiane\"\n    \"Asia/Vladivostok\"\n    \"Asia/Yakutsk\"\n    \"Asia/Yekaterinburg\"\n    \"Asia/Yerevan\"\n    \"Atlantic/Azores\"\n    \"Atlantic/Bermuda\"\n    \"Atlantic/Canary\"\n    \"Atlantic/Cape_Verde\"\n    \"Atlantic/Faroe\"\n    \"Atlantic/Madeira\"\n    \"Atlantic/Reykjavik\"\n    \"Atlantic/South_Georgia\"\n    \"Atlantic/St_Helena\"\n    \"Atlantic/Stanley\"\n    \"Australia/Adelaide\"\n    \"Australia/Brisbane\"\n    \"Australia/Broken_Hill\"\n    \"Australia/Currie\"\n    \"Australia/Darwin\"\n    \"Australia/Eucla\"\n    \"Australia/Hobart\"\n    \"Australia/Lindeman\"\n    \"Australia/Lord_Howe\"\n    \"Australia/Melbourne\"\n    \"Australia/Perth\"\n    \"Australia/Sydney\"\n    \"Canada/Atlantic\"\n    \"Canada/Central\"\n    \"Canada/Eastern\"\n    \"Canada/Mountain\"\n    \"Canada/Newfoundland\"\n    \"Canada/Pacific\"\n    \"Europe/Amsterdam\"\n    \"Europe/Andorra\"\n    \"Europe/Athens\"\n    \"Europe/Belgrade\"\n    \"Europe/Berlin\"\n    \"Europe/Brussels\"\n    \"Europe/Bucharest\"\n    \"Europe/Budapest\"\n    \"Europe/Chisinau\"\n    \"Europe/Copenhagen\"\n    \"Europe/Dublin\"\n    \"Europe/Gibraltar\"\n    \"Europe/Helsinki\"\n    \"Europe/Istanbul\"\n    \"Europe/Kaliningrad\"\n    \"Europe/Kiev\"\n    \"Europe/Lisbon\"\n    \"Europe/London\"\n    \"Europe/Luxembourg\"\n    \"Europe/Madrid\"\n    \"Europe/Malta\"\n    \"Europe/Minsk\"\n    \"Europe/Monaco\"\n    \"Europe/Moscow\"\n    \"Europe/Oslo\"\n    \"Europe/Paris\"\n    \"Europe/Prague\"\n    \"Europe/Riga\"\n    \"Europe/Rome\"\n    \"Europe/Samara\"\n    \"Europe/Simferopol\"\n    \"Europe/Sofia\"\n    \"Europe/Stockholm\"\n    \"Europe/Tallinn\"\n    \"Europe/Tirane\"\n    \"Europe/Uzhgorod\"\n    \"Europe/Vaduz\"\n    \"Europe/Vienna\"\n    \"Europe/Vilnius\"\n    \"Europe/Volgograd\"\n    \"Europe/Warsaw\"\n    \"Europe/Zaporozhye\"\n    \"Europe/Zurich\"\n    \"GMT\"\n    \"Indian/Antananarivo\"\n    \"Indian/Chagos\"\n    \"Indian/Christmas\"\n    \"Indian/Cocos\"\n    \"Indian/Comoro\"\n    \"Indian/Kerguelen\"\n    \"Indian/Mahe\"\n    \"Indian/Maldives\"\n    \"Indian/Mauritius\"\n    \"Indian/Mayotte\"\n    \"Indian/Reunion\"\n    \"Pacific/Apia\"\n    \"Pacific/Auckland\"\n    \"Pacific/Chatham\"\n    \"Pacific/Easter\"\n    \"Pacific/Efate\"\n    \"Pacific/Enderbury\"\n    \"Pacific/Fakaofo\"\n    \"Pacific/Fiji\"\n    \"Pacific/Funafuti\"\n    \"Pacific/Galapagos\"\n    \"Pacific/Gambier\"\n    \"Pacific/Guadalcanal\"\n    \"Pacific/Guam\"\n    \"Pacific/Honolulu\"\n    \"Pacific/Johnston\"\n    \"Pacific/Kiritimati\"\n    \"Pacific/Kosrae\"\n    \"Pacific/Kwajalein\"\n    \"Pacific/Majuro\"\n    \"Pacific/Marquesas\"\n    \"Pacific/Midway\"\n    \"Pacific/Nauru\"\n    \"Pacific/Niue\"\n    \"Pacific/Norfolk\"\n    \"Pacific/Noumea\"\n    \"Pacific/Pago_Pago\"\n    \"Pacific/Palau\"\n    \"Pacific/Pitcairn\"\n    \"Pacific/Ponape\"\n    \"Pacific/Port_Moresby\"\n    \"Pacific/Rarotonga\"\n    \"Pacific/Saipan\"\n    \"Pacific/Tahiti\"\n    \"Pacific/Tarawa\"\n    \"Pacific/Tongatapu\"\n    \"Pacific/Truk\"\n    \"Pacific/Wake\"\n    \"Pacific/Wallis\"\n    \"US/Alaska\"\n    \"US/Arizona\"\n    \"US/Central\"\n    \"US/Eastern\"\n    \"US/Hawaii\"\n    \"US/Mountain\"\n    \"US/Pacific\"\n    \"UTC\"\n]","app = require 'application'\n\n$ ->\n    require 'lib/app_helpers'\n\n    locale = Date.getLocale(window.locale)\n    $.fn.datetimepicker.dates['en'] = { # as default\n        days: locale.weekdays.slice(0, 7)\n        daysShort: locale.weekdays.slice(7, 15)\n        daysMin: locale.weekdays.slice(7, 15)\n        months: locale.full_month.split('|').slice(1,13)\n        monthsShort: locale.full_month.split('|').slice(13,26)\n        today: locale.day.split('|')[1],\n        suffix: [],\n        meridiem: locale.ampm\n        weekStart: 1\n        format: \"dd/mm/yyyy\"\n    };\n\n    app.initialize()\n\n    # Initialize Spin JS the lib that displays loading indicators\n    $.fn.spin = (opts, color) ->\n        presets =\n            tiny:\n                lines: 8\n                length: 2\n                width: 2\n                radius: 3\n\n            small:\n                lines: 8\n                length: 1\n                width: 2\n                radius: 5\n\n            large:\n                lines: 10\n                length: 8\n                width: 4\n                radius: 8\n\n        if Spinner\n            @each ->\n                $this = $(this)\n                spinner = $this.data(\"spinner\")\n                if spinner?\n                    spinner.stop()\n                    $this.data \"spinner\", null\n                else if opts isnt false\n                    if typeof opts is \"string\"\n                        if opts of presets\n                            opts = presets[opts]\n                        else\n                            opts = {}\n                        opts.color = color    if color\n                    spinner = new Spinner(\n                        $.extend(color: $this.css(\"color\"), opts))\n                    spinner.spin(this)\n                    $this.data \"spinner\", spinner\n\n        else\n            console.log \"Spinner class not available.\"\n            null\n","(() ->\n    # IIFE to avoid collisions with other variables\n    (->\n        # Make it safe to do console.log() always.\n        console = window.console = window.console or {}\n        method = undefined\n        dummy = ->\n        methods = ('assert,count,debug,dir,dirxml,error,exception,\n                   group,groupCollapsed,groupEnd,info,log,markTimeline,\n                   profile,profileEnd,time,timeEnd,trace,warn').split ','\n\n        console[method] = console[method] or dummy while method = methods.pop()\n    )()\n)()\n","module.exports = class BaseView extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    getRenderData: ->\n        model: @model?.toJSON()\n\n    render: ->\n        @beforeRender()\n        @$el.html @template(@getRenderData())\n        @afterRender()\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n","hue2rgb = (p,q,t) ->\n    if t < 0 then t += 1\n    if t > 1 then t -= 1\n    if t < 1/6 then return p + (q - p) * 6 * t\n    if t < 1/2 then return q\n    if t < 2/3 then return p + (q - p) * (2/3 - t) * 6\n    return p\n\nhslToRgb = (h, s, l) =>\n    if s is 0 then r = g = b = l\n    else\n        q = if l < 0.5 then l * (1 + s) else l + s - l * s\n        p = 2 * l - q\n        r = hue2rgb p, q, h + 1/3\n        g = hue2rgb p, q, h\n        b = hue2rgb p, q, h - 1/3\n\n    return \"#\" + ((1 << 24) + (r*255 << 16) + (g*255 << 8) + parseInt(b*255)).toString(16).slice(1)\n\nmodule.exports = (tag) ->\n    if tag isnt \"my calendar\"\n        hash = 0\n        for i in [0..tag.length-1]\n            hash = (tag.charCodeAt(i) + (hash << 5) - hash)\n\n        h = (hash% 100)/100\n        s = (hash% 1000)/1000\n        l = 0.5 + 0.2*(hash% 2)/ 2\n        colour = hslToRgb h, s, l\n        return colour\n    else\n        return '#008AF6'\n","module.exports.randomString = (length=32) ->\n    string = \"\"\n    string += Math.random().toString(36).substr(2) while string.length < length\n    string.substr 0, length\n","class SocketListener extends CozySocketListener\r\n\r\n    models:\r\n        'alarm': require 'models/alarm'\r\n        'event': require 'models/event'\r\n\r\n    events: [\r\n        'alarm.create','alarm.update', 'alarm.delete'\r\n        'event.create','event.update', 'event.delete'\r\n    ]\r\n\r\n    onRemoteCreate: (model) ->\r\n        for collection in @collections\r\n            if model instanceof collection.model\r\n                collection.add model\r\n\r\n    onRemoteDelete: (model) ->\r\n        model.trigger 'destroy', model, model.collection, {}\r\n\r\n\r\nmodule.exports = new SocketListener()","module.exports = class View extends Backbone.View\n\n    template: ->\n\n    initialize: ->\n\n    render: (templateOptions) ->\n        @beforeRender()\n        render =  @template().call null, templateOptions\n        @$el.html render\n        @afterRender()\n\n        @\n\n    beforeRender: ->\n\n    afterRender: ->\n\n    destroy: ->\n        @undelegateEvents()\n        @$el.removeData().unbind()\n        @remove()\n        Backbone.View::remove.call @\n","BaseView = require 'lib/base_view'\n\n# View that display a collection of subitems\n# used to DRY views\n# Usage : new ViewCollection(collection:collection)\n# Automatically populate itself by creating a itemView for each item\n# in its collection\n\n# can use a template that will be displayed alongside the itemViews\n\n# itemView       : the Backbone.View to be used for items\n# itemViewOptions : the options that will be passed to itemViews\n# collectionEl : the DOM element's selector where the itemViews will\n#                be displayed. Automatically falls back to el if null\n\nmodule.exports = class ViewCollection extends BaseView\n\n    itemview: null\n\n    views: {}\n\n    template: -> ''\n\n    itemViewOptions: ->\n\n    collectionEl: null\n\n    # add 'empty' class to view when there is no subview\n    onChange: ->\n        @$el.toggleClass 'empty', _.size(@views) is 0\n\n    # can be overriden if we want to place the subviews somewhere else\n    appendView: (view) ->\n        @$collectionEl.append view.el\n\n    # bind listeners to the collection\n    initialize: ->\n        super\n        @views = {}\n        @listenTo @collection, \"reset\",   @onReset\n        @listenTo @collection, \"add\",     @addItem\n        @listenTo @collection, \"remove\",  @removeItem\n\n        if not @collectionEl?\n            @collectionEl = @el\n            @$collectionEl = @$el\n\n    # if we have views before a render call, we detach them\n    render: ->\n        view.$el.detach() for id, view of @views\n        super\n\n    # after render, we reattach the views\n    afterRender: ->\n        @$collectionEl = @$(@collectionEl) if not @$collectionEl\n        @appendView view for id, view of @views\n        @onReset @collection\n        @onChange @views\n\n    # destroy all sub views before remove\n    remove: ->\n        @onReset []\n        super\n\n    # event listener for reset\n    onReset: (newcollection) ->\n        view.remove() for id, view of @views\n        newcollection.forEach @addItem\n\n    # event listeners for add\n    addItem: (model) =>\n        options = _.extend {}, {model: model}, @itemViewOptions(model)\n        view = new @itemview(options)\n        @views[model.cid] = view.render()\n        @appendView view\n        @onChange @views\n\n    # event listeners for remove\n    removeItem: (model) =>\n        @views[model.cid].remove()\n        delete @views[model.cid]\n\n        @onChange @views","module.exports =\n    \"Add\"                               : \"Add\"\n    \"alarm\"                             : \"Alarm\"\n    \"event\"                             : \"Event\"\n    \"add the alarm\"                     : \"add the alarm\"\n    \"create alarm\"                      : \"Alarm creation\"\n    \"create event\"                      : \"Event creation\"\n    \"edit alarm\"                        : \"Alarm edition\"\n    \"edit event\"                        : \"Event edition\"\n    \"edit\"                              : \"Edit\"\n    \"create\"                            : \"Create\"\n    \"creation\"                          : \"Creation\"\n    \"invite\"                            : \"Invite\"\n    \"close\"                             : \"Close\"\n    \"delete\"                            : \"Delete\"\n    \"Place\"                             : \"Place\"\n    \"description\"                       : \"Description\"\n    \"date\"                              : \"date\"\n    \"Day\"                               : \"Day\"\n    \"Edit\"                              : \"Edit\"\n    \"Email\"                             : \"Email\"\n    \"Import\"                            : \"Import\"\n    \"Export\"                            : \"Export\"\n    \"List\"                              : \"List\"\n    \"list\"                              : \"list\"\n    \"Calendar\"                          : \"Calendar\"\n    \"calendar\"                          : \"Calendar\"\n    \"Sync\"                              : \"Sync\"\n    \"ie: 9:00 important meeting\"        : \"ie: 9:00 important meeting\"\n    \"Month\"                             : \"Month\"\n    \"Popup\"                             : \"Popup\"\n    \"Switch to List\"                    : \"Switch to List\"\n    \"Switch to Calendar\"                : \"Switch to Calendar\"\n    \"time\"                              : \"time\"\n    \"Today\"                             : \"Today\"\n    \"What should I remind you ?\"        : \"What should I remind you?\"\n    \"alarm description placeholder\"     : \"What do you want to be reminded?\"\n    \"ICalendar import\"                  : \"ICalendar import\"\n    \"select an icalendar file\"          : \"Select an icalendar file\"\n    \"import your icalendar file\"        : \"import your icalendar file\"\n    \"confirm import\"                    : \"confirm import\"\n    \"cancel\"                            : \"cancel\"\n    \"Create\"                            : \"Create\"\n    \"Alarms to import\"                  : \"Alarms to import\"\n    \"Events to import\"                  : \"Events to import\"\n    \"Create Event\"                      : \"Create Event\"\n    \"From hours:minutes\"                : \"From hours:minutes\"\n    \"To hours:minutes+days\"             : \"To hours:minutes+days\"\n    \"Description\"                       : \"Description\"\n    \"days after\"                        : \"days after\"\n    \"days later\"                        : \"days later\"\n    \"Week\"                              : \"Week\"\n    \"Alarms\"                            : \"Alarms\"\n    \"Display\"                           : \"Notification\"\n    \"DISPLAY\"                           : \"Notification\"\n    \"EMAIL\"                             : \"E-mail\"\n    \"BOTH\"                              : \"E-mail & Notification\"\n    \"display previous events\"           : \"Display previous events\"\n    \"event\"                             : \"Event\"\n    \"alarm\"                             : \"Alarm\"\n    \"are you sure\"                      : \"Are you sure ?\"\n    \"advanced\"                          : \"More details\"\n    \"enter email\"                       : \"Enter email\"\n    \"ON\"                                : \"on\"\n    \"OFF\"                               : \"off\"\n\n# RRULE related\n    \"recurrence\"                        : \"Recurrence\"\n    \"recurrence rule\"                   : \"Recurrence rules\"\n    \"make reccurent\"                    : \"Make recurrent\"\n    \"repeat every\"                      : \"Repeat every\"\n    \"no recurrence\"                     : \"No recurrence\"\n    \"repeat on\"                         : \"Repeat on\"\n    \"repeat on date\"                    : \"Repeat on dates\"\n    \"repeat on weekday\"                 : \"Repeat on weekday\"\n    \"repeat until\"                      : \"Repeat until\"\n    \"after\"                             : \"After\"\n    \"repeat\"                            : \"Repeat\"\n    \"forever\"                           : \"Forever\"\n    \"occurences\"                        : \"occurences\"\n    \"every\"                             : \"Every\"\n    \"days\"                              : \"days\"\n    \"day\"                               : \"day\"\n    \"weeks\"                             : \"weeks\"\n    \"week\"                              : \"week\"\n    \"months\"                            : \"months\"\n    \"month\"                             : \"month\"\n    \"years\"                             : \"years\"\n    \"year\"                              : \"year\"\n    \"until\"                             : \"until\"\n    \"for\"                               : \"for\"\n    \"on\"                                : \"on\"\n    \"on the\"                            : \"on the\"\n    \"th\"                                : \"th\"\n    \"nd\"                                : \"nd\"\n    \"rd\"                                : \"rd\"\n    \"st\"                                : \"st\"\n    \"last\"                              : \"last\"\n    \"and\"                               : \"and\"\n    \"times\"                             : \"times\"\n    \"weekday\"                           : \"weekday\"\n\n# MODAL\n    \"summary\"                           : \"Summary\"\n    \"place\"                             : \"Place\"\n    \"start\"                             : \"Start\"\n    \"end\"                               : \"End\"\n    \"tags\"                              : \"Tags\"\n    \"add tags\"                          : \"Add tags\"\n    \"change\"                            : \"Change\"\n    \"change to\"                         : \"Change to\"\n    \"change calendar\"                   : \"Change calendar\"\n    \"save changes\"                      : \"Save changes\"\n    \"save changes and invite guests\"    : \"Save changes and invite guests\"\n    \"guests\"                            : \"Guests\"\n    \"from\"                              : \"From\"\n    \"to\"                                : \"to\"\n\n# ERRORS\n    \"no description\"                    : \"A title must be set.\"\n    \"no summary\"                        : \"A summary must be set.\"\n    \"start after end\"                   : \"The start date is after the end date.\"\n    \"invalid start date\"                : \"The start date is invalid.\"\n    \"invalid end date\"                  : \"The end date is invalid.\"\n    \"invalid trigg date\"                : \"The date is invalid.\"\n    \"invalid action\"                    : \"The action is invalid.\"\n\n# SYNC\n    \"synchronization\"                   : \"Synchronization\"\n    \"mobile sync\"                       : \"Mobile Sync (CalDAV)\"\n    \"link imported events with calendar\": \"Link events to import with following calendar:\"\n    \"import an ical file\"               : \"To import an ICal file into your cozy calendar, click on this button:\"\n    \"download a copy of your calendar\"  : \"To download a copy of your calendar on your computer as an ICal file, click on this button:\"\n    \"icalendar export\"                  : \"ICalendar Export\"\n    \"icalendar import\"                  : \"ICalendar Import\"\n    \"to sync your cal with\"             : \"To synchronize your calendar with your devices, you must follow two steps\"\n    \"install the webdav module\"         : \"Install the webdav module from the Cozy App Store\"\n    \"connect to it and follow\"          : \"Connect to it and follow the instructions related to CalDAV.\"\n    \"some event fail to save\"           : \"An event was not saved (an error occured).\"\n    \"imported events and alarms\": \"Amount of imported alarms and events\"\n    \"import finished\": \"Your import is now finished\"\n    \"import error occured for\": \"Import error occured for following elements\"\n    \"export your calendar\": \"Export your calendar\"\n\n# DATE\n    \"January\"                           : \"January\"\n    \"February\"                          : \"February\"\n    \"March\"                             : \"March\"\n    \"April\"                             : \"April\"\n    \"May\"                               : \"May\"\n    \"June\"                              : \"June\"\n    \"July\"                              : \"July\"\n    \"August\"                            : \"August\"\n    \"September\"                         : \"September\"\n    \"October\"                           : \"October\"\n    \"November\"                          : \"November\"\n    \"December\"                          : \"December\"\n    \"January\"                           : \"January\"\n    \"February\"                          : \"February\"\n\n    'Jan'                               : 'Jan'\n    'Feb'                               : 'Feb'\n    'Mar'                               : 'Mar'\n    'Apr'                               : 'Apr'\n    'Jun'                               : 'Jun'\n    'Jul'                               : 'Jul'\n    'Aug'                               : 'Aug'\n    'Sep'                               : 'Sep'\n    'Oct'                               : 'Oct'\n    'Nov'                               : 'Nov'\n    'Dec'                               : 'Dec'\n","module.exports =\n    \"Add\"                               : \"Ajouter\"\n    \"alarm\"                             : \"alarme\"\n    \"event\"                             : \"vnement\"\n    \"add the alarm\"                     : \"Ajouter l'alarme\"\n    \"create alarm\"                      : \"Cration d'une alarme\"\n    \"create event\"                      : \"Cration d'un vnement\"\n    \"edit alarm\"                        : \"Modification d'une alarme\"\n    \"edit event\"                        : \"Modification d'un vnement\"\n    \"edit\"                              : \"Enregistrer\"\n    \"create\"                            : \"Enregistrer\"\n    \"creation\"                          : \"Cration\"\n    \"invite\"                            : \"Inviter\"\n    \"close\"                             : \"Fermer\"\n    \"delete\"                            : \"Supprimer\"\n    \"Place\"                             : \"Lieu\"\n    \"description\"                       : \"Description\"\n    \"date\"                              : \"Date\"\n    \"Day\"                               : \"Jour\"\n    \"Edit\"                              : \"Modifier\"\n    \"Email\"                             : \"Email\"\n    \"Import\"                            : \"Import\"\n    \"Export\"                            : \"Export\"\n    \"List\"                              : \"Liste\"\n    \"list\"                              : \"liste\"\n    \"Calendar\"                          : \"Calendrier\"\n    \"calendar\"                          : \"Calendrier\"\n    \"Sync\"                              : \"Sync\"\n    \"ie: 9:00 important meeting\"        : \"exemple: 9:00 appeler Jacques\"\n    \"Month\"                             : \"Mois\"\n    \"Popup\"                             : \"Popup\"\n    \"Switch to List\"                    : \"Basculer en mode Liste\"\n    \"Switch to Calendar\"                : \"Basculer en mode Calendrier\"\n    \"time\"                              : \"Heure\"\n    \"Today\"                             : \"Aujourd'hui\"\n    \"What should I remind you ?\"        : \"Que dois-je vous rappeler ?\"\n    \"alarm description placeholder\"     : \"Que voulez-vous vous rappeler ?\"\n    \"ICalendar importer\"                : \"Importateur ICalendar\"\n    \"import your icalendar file\"        : \"Importer votre fichier iCalendar\"\n    \"select an icalendar file\"          : \"Slectionner un fichier iCalendar\"\n    \"confirm import\"                    : \"Confirmer l'import\"\n    \"cancel\"                            : \"Annuler\"\n    \"Create\"                            : \"Crer\"\n    \"Alarms to import\"                  : \"Alarmes  importer\"\n    \"Events to import\"                  : \"vnements  importer\"\n    \"Create Event\"                      : \"Crer un vnement\"\n    \"From hours:minutes\"                : \"De heures:minutes\"\n    \"To hours:minutes+days\"             : \" heures:minutes+jours\"\n    \"Description\"                       : \"Description\"\n    \"days after\"                        : \"jours plus tard\"\n    \"days later\"                        : \"jours plus tard\"\n    \"Week\"                              : \"Semaine\"\n    \"Alarms\"                            : \"Alarmes\"\n    \"Display\"                           : \"Notification\"\n    \"DISPLAY\"                           : \"Notification\"\n    \"EMAIL\"                             : \"E-mail\"\n    \"BOTH\"                              : \"E-mail & Notification\"\n    \"display previous events\"           : \"Montrer les vnements prcdents\"\n    \"are you sure\"                      : \"tes-vous sr(e) ?\"\n    \"advanced\"                          : \"Dtails\"\n    \"enter email\"                       : \"Entrer l'adresse email\"\n    \"ON\"                                : \"active\"\n    \"OFF\"                               : \"dsactive\"\n\n# RRULE related\n    \"recurrence\"                        : \"Rcurrence\"\n    \"recurrence rule\"                   : \"Rgle de rcurrence\"\n    \"make reccurent\"                    : \"Rendre rccurent\"\n    \"repeat every\"                      : \"Rpter tous les\"\n    \"no recurrence\"                     : \"Pas de rptition\"\n    \"repeat on\"                         : \"Rpter les\"\n    \"repeat on date\"                    : \"Rpter les jours du mois\"\n    \"repeat on weekday\"                 : \"Rpter le jour de la semaine\"\n    \"repeat until\"                      : \"Rpter jusqu'au\"\n    \"after\"                             : \"ou aprs\"\n    \"repeat\"                            : \"Rptition\"\n    \"forever\"                           : \"Pour toujours\"\n    \"occurences\"                        : \"occasions\"\n    \"every\"                             : \"tous les\"\n    \"days\"                              : \"jours\"\n    \"day\"                               : \"jour\"\n    \"weeks\"                             : \"semaines\"\n    \"week\"                              : \"semaines\"\n    \"months\"                            : \"mois\"\n    \"month\"                             : \"mois\"\n    \"years\"                             : \"ans\"\n    \"year\"                              : \"ans\"\n    \"until\"                             : \"jusqu'au\"\n    \"for\"                               : \"pour\"\n    \"on\"                                : \"le\"\n    \"on the\"                            : \"le\"\n    \"th\"                                : \"me\"\n    \"nd\"                                : \"me\"\n    \"rd\"                                : \"me\"\n    \"st\"                                : \"er\"\n    \"last\"                              : \"dernier\"\n    \"and\"                               : \"et\"\n    \"times\"                             : \"fois\"\n    \"weekday\"                           : \"jours de la semaine\"\n\n# MODAL\n    \"summary\"                           : \"Titre\"\n    \"Summary\"                           : \"Titre\"\n    \"place\"                             : \"Endroit\"\n    \"start\"                             : \"Dbut\"\n    \"end\"                               : \"Fin\"\n    \"tags\"                              : \"Tags\"\n    \"add tags\"                          : \"Ajouter des tags\"\n    \"change to\"                         : \"Changer en\"\n    \"change\"                            : \"Modifier\"\n    \"change calendar\"                   : \"Changer le calendrier\"\n    \"save changes\"                      : \"Enregistrer\"\n    \"save changes and invite guests\"    : \"Enregistrer et envoyer les invitations\"\n    \"guests\"                            : \"Invits\"\n    \"from\"                              : \"De\"\n    \"to\"                                : \"\"\n\n# ERRORS\n    \"no description\"                    : \"Le titre est obligatoire\"\n    \"no summary\"                        : \"Le titre est obligatoire\"\n    \"start after end\"                   : \"La fin est aprs le dbut.\"\n    \"invalid start date\"                : \"Le dbut est invalide.\"\n    \"invalid end date\"                  : \"La fin est invalide.\"\n    \"invalid trigg date\"                : \"Le moment est invalide.\"\n    \"invalid action\"                    : \"L'action est invalide.\"\n\n# SYNC\n    \"synchronization\"                   : \"Synchronisation\"\n    \"mobile sync\"                       : \"Synchro Mobile (CalDAV)\"\n    \"import an ical file\"               : \"Pour importer un fichier iCal dans votre agenda, cliquez sur ce bouton :\"\n    \"link imported events with calendar\": \"Lier les vnements  importer avec le calendrier suivant:\"\n    \"download a copy of your calendar\"  : \"Pour tlcharger une copie de votre calendrier sur votre ordinateur comme un fichier iCal, cliquez sur ce bouton :\"\n    \"icalendar export\"                  : \"Export ICalendar\"\n    \"icalendar import\"                  : \"Import ICalendar\"\n    \"to sync your cal with\"             : \"Pour synchroniser votre calendrier avec votre mobile vous devez :\"\n    \"install the webdav module\"         : \"Installer le module WebDAV depuis l'applithque.\"\n    \"connect to it and follow\"          : \"Vous connecter et suivre les instructions relatives  CalDAV.\"\n    \"some event fail to save\"           : \"La sauvegarde d'un vnement a chou.\"\n    \"imported events and alarms\": \"Nombre d'alarmes et vnements imports\"\n    \"import finished\": \"Votre import est termin !\"\n    \"import error occured for\": \"Une erreur est survenue pour un de ces lments \"\n    \"export your calendar\": \"Exportez votre calendrier\"\n\n    \"January\"                           : \"Janvier\"\n    \"February\"                          : \"Fvrier\"\n    \"March\"                             : \"Mars\"\n    \"April\"                             : \"Avril\"\n    \"May\"                               : \"Mai\"\n    \"June\"                              : \"Juin\"\n    \"July\"                              : \"Juillet\"\n    \"August\"                            : \"Aot\"\n    \"September\"                         : \"Septembre\"\n    \"October\"                           : \"Octobre\"\n    \"November\"                          : \"Novembre\"\n    \"December\"                          : \"Dcembre\"\n\n    'Jan'                               : 'Jan'\n    'Feb'                               : 'Fv'\n    'Mar'                               : 'Mar'\n    'Apr'                               : 'Avr'\n    'Jun'                               : 'Jui'\n    'Jul'                               : 'Jul'\n    'Aug'                               : 'Aou'\n    'Sep'                               : 'Sep'\n    'Oct'                               : 'Oct'\n    'Nov'                               : 'Nov'\n    'Dec'                               : 'Dc'\n","helpers = require '../helpers'\nScheduleItem = require './scheduleitem'\n\nmodule.exports = class Alarm extends ScheduleItem\n\n    fcEventType: 'alarm'\n    startDateField: 'trigg'\n    urlRoot: 'alarms'\n\n    defaults: ->\n        description: ''\n        title: ''\n        place: ''\n        tags: ['my calendar']\n\n    parse: (attrs) ->\n        delete attrs.id if attrs.id is \"undefined\"\n        return attrs\n\n    validate: (attrs, options) ->\n\n        errors = []\n\n        unless attrs.description?\n            errors.push\n                field: 'description'\n                value: \"no summary\"\n\n        unless attrs.action in ['DISPLAY', 'EMAIL', 'BOTH']\n            errors.push\n                field: 'action'\n                value: \"invalid action\"\n\n        if not attrs.trigg or not Date.create(attrs.trigg).isValid()\n            errors.push\n                field: 'triggdate'\n                value: \"invalid trigg date\"\n\n        if errors.length > 0\n            return errors\n\n    getDefaultColor: -> '#00C67A'\n","module.exports = class Contact extends Backbone.Model\n\n    urlRoot: 'contacts'\n\n    match: (filter) ->\n        filter.test(@get('name')) or\n        @get('emails').some (dp) ->\n            filter.test dp.get('value')","ScheduleItem = require './scheduleitem'\n\nmodule.exports = class Event extends ScheduleItem\n\n    fcEventType: 'event'\n    startDateField: 'start'\n    endDateField: 'end'\n    urlRoot: 'events'\n\n    defaults: ->\n        description: ''\n        title: ''\n        place: ''\n        tags: ['my calendar']\n\n    validate: (attrs, options) ->\n\n        errors = []\n\n        unless attrs.description?\n            errors.push\n                field: 'description'\n                value: \"no summary\"\n\n        if not attrs.start or not (start = Date.create(attrs.start)).isValid()\n            errors.push\n                field: 'startdate'\n                value: \"invalid start date\"\n\n        if not attrs.end or not (end = Date.create(attrs.end)).isValid()\n            errors.push\n                field: 'enddate'\n                value: \"invalid end date\"\n\n        if start.isAfter end\n            errors.push\n                field: 'date'\n                value: \"start after end\"\n\n        return errors if errors.length > 0\n\n    #@TODO tags = color\n    getDefaultColor: -> '#008AF6'\n","colorHash = require 'lib/colorhash'\n\nmodule.exports = class ScheduleItem extends Backbone.Model\n\n    fcEventType: 'unknown'\n    startDateField: ''\n    endDateField: false\n    @dateFormat = \"{Dow} {Mon} {dd} {yyyy} {HH}:{mm}:00\"\n\n    initialize: ->\n        @set 'tags', ['my calendar'] unless @get('tags')?.length\n        @startDateObject = Date.create @get @startDateField\n        @on 'change:' + @startDateField, =>\n            @previousDateObject = @startDateObject\n            @startDateObject = Date.create @get @startDateField\n            unless @endDateField\n                @endDateObject = @startDateObject.clone()\n                @endDateObject.advance minutes: 30\n\n        if @endDateField\n            @endDateObject = Date.create @get @endDateField\n            @on 'change:' + @endDateField, =>\n                @endDateObject = @endDateObject\n                @endDateObject = Date.create @get @endDateField\n        else\n            @endDateObject = @startDateObject.clone()\n            @endDateObject.advance minutes: 30\n\n    getCalendar: -> @get('tags')?[0]\n\n    getDefaultColor: -> 'grey'\n    getColor: ->\n        tag = @getCalendar()\n        return @getDefaultColor() if not tag\n        return colorHash tag\n\n    getDateObject: -> @startDateObject\n    getStartDateObject: -> @getDateObject()\n    getEndDateObject: -> @endDateObject\n\n    getFormattedDate: (formatter) -> @getDateObject().format formatter\n    getFormattedStartDate: (formatter) -> @getStartDateObject().format formatter\n    getFormattedEndDate: (formatter) -> @getEndDateObject().format formatter\n\n    getDateHash: () -> @getDateObject().format '{yyyy}{MM}{dd}'\n    getPreviousDateObject: ->\n        previous = @previous(@startDateField)?\n        if previous then Date.create previous else false\n    getPreviousDateHash: ->\n        previous = @getPreviousDateObject()\n        if previous then previous.format('{yyyy}{MM}{dd}') else false\n\n    getRRuleObject: ->\n        try\n            options = RRule.parseString @get 'rrule'\n            options.dtstart = @getStartDateObject()\n            return new RRule options\n        catch e then return false\n\n    isOneDay: -> @startDateObject.short() is @endDateObject.short()\n\n    isInRange: (start, end) ->\n        @startDateObject.isBetween(start, end) or\n        @endDateObject.isBetween(start, end) or\n        (@startDateObject.isBefore(start) and @endDateObject.isAfter(end))\n\n    # transform a SI into a FC event\n    # allow overriding the startDate for reccurence management\n    toFullCalendarEvent: (rstart) ->\n        start = @getStartDateObject()\n        end = @getEndDateObject()\n\n        if rstart\n            duration = end - start\n            end = Date.create(rstart).clone().advance duration\n            start = rstart\n\n        return fcEvent =\n            id: @cid\n            title: \"#{start.format \"{HH}:{mm}\"} #{@get(\"description\")}\"\n            start: start.format Date.ISO8601_DATETIME\n            end: end.format Date.ISO8601_DATETIME\n            allDay: false\n            diff: @get \"diff\"\n            place: @get 'place'\n            timezone: @get 'timezone'\n            timezoneHour: @get 'timezoneHour'\n            type: @fcEventType\n            backgroundColor: @getColor()\n            borderColor: @getColor()","app = require 'application'\nListView = require 'views/list_view'\nCalendarView = require 'views/calendar_view'\nEventModal = require 'views/event_modal'\nImportView = require 'views/import_view'\nSyncView = require 'views/sync_view'\nDayBucketCollection = require 'collections/daybuckets'\n\nmodule.exports = class Router extends Backbone.Router\n\n    routes:\n        ''                                : 'month'\n        'month'                           : 'month'\n        'month/:year/:month'              : 'month'\n        'week'                            : 'week'\n        'week/:year/:month/:day'          : 'week'\n        'list'                            : 'list'\n        'event/:eventid'                  : 'auto_event'\n        'month/:year/:month/:eventid'     : 'month_event'\n        'week/:year/:month/:day/:eventid' : 'week_event'\n        'list/:eventid'                   : 'list_event'\n        'sync'                            : 'sync'\n        'calendar'                        : 'backToCalendar'\n\n    month: (year, month) ->\n        if year?\n            @displayCalendar 'month', year, month, 1\n        else\n            hash = new Date().format('month/{yyyy}/{M}')\n            @navigate hash, trigger: true\n\n    week: (year, month, day) ->\n        if year?\n            [year, month, day] = getBeginningOfWeek year, month, day\n            @displayCalendar 'agendaWeek', year, month, day\n        else\n            hash = new Date().format('week/{yyyy}/{M}/{d}')\n            @navigate hash, trigger: true\n\n    list: ->\n        @displayView new ListView\n            collection: new DayBucketCollection()\n        app.menu.activate 'calendar'\n        @onCalendar = true\n\n    sync: ->\n        @displayView new SyncView\n        app.menu.activate 'sync'\n        @onCalendar = false\n\n    auto_event: (id) ->\n        model = app.events.get(id)\n        unless model\n            alert 'This event does not exists'\n            @navigate ''\n        date = model.getDateObject()\n        @month_event date.getFullYear(), date.getMonth(), id\n\n    month_event: (year, month, id) ->\n        @month(year, month) unless @mainView instanceof CalendarView\n        @event id, \"month/#{year}/#{month}\"\n\n    week_event: (year, month, date, id) ->\n        [year, month, day] = getBeginningOfWeek year, month, day\n        @week(year, month, date) unless @mainView instanceof CalendarView\n        @event id, \"week/#{year}/#{month}/#{date}\"\n\n    list_event: (id) ->\n        @list() unless @mainView instanceof ListView\n        @event id, 'list'\n\n    event: (id, backurl) ->\n        model = app.events.get(id)\n        view = new EventModal(model: model, backurl: backurl)\n        $('body').append view.$el\n        view.render()\n        @onCalendar = true\n\n    backToCalendar: =>\n        #@TODO, go back to same view we left\n        @navigate '', true\n\n    displayCalendar: (view, year, month, day) =>\n        @lastDisplayCall = Array.apply arguments\n        @displayView new CalendarView\n            year: parseInt(year)\n            month: (parseInt(month) + 11)%12\n            date: parseInt(day)\n            view: view\n            model: {alarms:app.alarms, events:app.events}\n\n        app.menu.activate 'calendar'\n        @onCalendar = true\n\n    # display a page properly (remove previous page)\n    displayView: (view) =>\n        @mainView.remove() if @mainView\n        @mainView = view\n        $('.main-container').append @mainView.$el\n        @mainView.render()\n\n    getBeginningOfWeek = (year, month, day) =>\n        [year, month, day] = [year, month, day].map (x) -> parseInt x\n        monday = new Date(year, (month-1)%12, day)\n        monday.setDate(monday.getDate() - monday.getDay() + 1);\n        [year, monday.getMonth()+1, monday.getDate()]\n","BaseView = require '../lib/base_view'\n\n\nmodule.exports = class CalendarHeader extends BaseView\n\n    tagName: 'table'\n    id: 'calendarHeader'\n    className: 'fc-header'\n    template: require './templates/calendar_header'\n\n    initialize: (options) ->\n        @cal = options?.cal\n\n    getViewName: ->\n        return 'list' unless @cal?\n        view = @cal.fullCalendar('getView')\n        return 'week' if view.name is 'agendaWeek'\n        return 'month'\n\n    getTitle: ->\n        return t('List') unless @cal\n\n        formatDates = $.fullCalendar.formatDates\n\n        view = @cal.fullCalendar 'getView'\n\n        if view.name is 'month'\n            formatMonth = 'MMMM'\n            formatYear = ' yyyy'\n            res = t formatDates view.start, '', formatMonth\n            res += formatDates view.start, '', formatYear\n\n        else\n            format = \"MMM d[ yyyy]{ ' - '[ MMM] d yyyy}\"\n            res = $.fullCalendar.formatDates view.start, view.end, format\n            res = res.replace 'Jan', t 'Jan'\n            res = res.replace 'Feb', t 'Feb'\n            res = res.replace 'Mar', t 'Mar'\n            res = res.replace 'Apr', t 'Apr'\n            res = res.replace 'Jun', t 'Jun'\n            res = res.replace 'Jul', t 'Jul'\n            res = res.replace 'Aug', t 'Aug'\n            res = res.replace 'Sep', t 'Sep'\n            res = res.replace 'Oct', t 'Oct'\n            res = res.replace 'Nov', t 'Nov'\n            res = res.replace 'Dec', t 'Dec'\n        res\n\n    getDates: ->\n        view = @cal.fullCalendar('getView')\n        return [view.start, view.end]\n\n    isToday: ->\n        [start, end] = @getDates()\n        (new Date()).isBetween start, end\n\n    getRenderData: ->\n\n        locale = Date.getLocale()\n\n        return data =\n            title: @getTitle()\n            todaytxt: locale.day.split('|')[1]\n            calendarMode: @cal?\n            active: (item) =>\n                if item is 'today' and @isToday() or item is @getViewName()\n                    return 'fc-state-active'\n\n    events: ->\n        'click .fc-button-next': => @trigger 'next'\n        'click .fc-button-prev': => @trigger 'prev'\n        'click .fc-button-today': => @trigger 'today'\n        'click .fc-button-month': => @trigger 'month'\n        'click .fc-button-week': => @trigger 'week'\n        'click .fc-button-list': => @trigger 'list'\n","BaseView = require '../lib/base_view'\nRRuleFormView = require 'views/event_modal_rrule'\nEventModal = require 'views/event_modal'\nComboBox = require 'views/widgets/combobox'\nToggle = require 'views/toggle'\nAlarm = require 'models/alarm'\nEvent = require 'models/event'\n\nmodule.exports = class PopOver extends BaseView\n\n    template: require('./templates/popover_content')\n\n    events:\n        'keyup input': 'onKeyUp'\n        'change select': 'onKeyUp'\n        'change input': 'onKeyUp'\n        'change #input-place': 'updateMapLink'\n        'click .add'  : 'onAddClicked'\n        'click .advanced-link'  : 'onAdvancedClicked'\n        'click .remove': 'onRemoveClicked'\n        'click #toggle-type': 'onTabClicked'\n        'click .close' : 'selfclose'\n\n    initialize: (options) ->\n        if options.type\n            @type = options.type\n            @model = @makeNewModel options\n\n        else if @model\n            @type = if @model instanceof Event then 'event' else 'alarm'\n\n        @target = options.target\n        @container = options.container\n        @parentView = options.parentView\n        @options = options\n\n    selfclose: () ->\n        @parentView.onPopoverClose?()\n        @close()\n\n    close: () ->\n        @target.popover 'destroy'\n        @target.data 'popover', undefined\n        @remove()\n\n    render: ->\n        @target.popover(\n            selector: true\n            trigger: 'manual'\n            title: require('./templates/popover_title') @getRenderData()\n            html: true\n            placement: @getDirection()\n            content: @template @getRenderData()\n        ).popover('show')\n\n        # Manage responsive (for smartphones)\n        if $(window).width() <= 500\n            $('.popover').css 'top', 0\n            $('.popover').css 'left', 0\n\n        @setElement $('#view-container .popover')\n        @afterRender()\n\n    afterRender: ->\n        @addButton = @$('.btn.add').text @getButtonText()\n        @removeButton = @$('.remove')\n        @removeButton.hide() if @model.isNew()\n        @$('input[type=\"time\"]').attr('type', 'text').timepicker\n            template: false\n            minuteStep: 5\n            showMeridian: false\n        @$('.focused').focus()\n\n        inputEnd = @$('#input-end')\n        inputStart = @$('#input-start')\n        inputDiff = @$('#input-diff')\n        inputStart.on 'timepicker.next', => inputEnd.focus()\n        inputEnd.on 'timepicker.next', => inputDiff.focus()\n        inputEnd.on 'timepicker.prev', => inputStart.focus().timepicker 'highlightMinute'\n        inputDiff.on 'keydown', (ev) =>\n            if ev.keyCode is 37 # left\n                inputEnd.focus().timepicker 'highlightMinute'\n            if ev.keyCode is 39 # right\n                @$('#input-desc').focus()\n\n        # keep the endDate after the startDate\n        inputStart.on 'changeTime.timepicker', (ev) =>\n            @adjustTimePickers 'start', ev.time.value\n\n        inputEnd.on 'changeTime.timepicker', (ev) =>\n            @adjustTimePickers 'end', ev.time.value\n\n        if @type is 'alarm'\n            tzInput = @$('#input-timezone')\n            @actionMail = new Toggle\n                icon: 'envelope'\n                label: 'email notification'\n                value: @model.get('action') in ['EMAIL', 'BOTH']\n\n            @actionNotif = new Toggle\n                icon: 'exclamation-sign'\n                label: 'home notification'\n                value: @model.get('action') in ['DISPLAY', 'BOTH']\n\n            @actionMail.on 'toggle', (mailIsOn) =>\n                @actionNotif.toggle true unless mailIsOn\n\n            @actionNotif.on 'toggle', (notifIsOn) =>\n                @actionMail.toggle true unless notifIsOn\n\n            tzInput.after @actionMail.$el\n            tzInput.after @actionNotif.$el\n\n        if @model.get 'rrule'\n            @rruleForm = new RRuleFormView model: @model\n            @rruleForm.render()\n            @$('#rrule-container').append @rruleForm.$el\n            @$('#rrule-action').hide()\n            @$('#rrule-short i.icon-arrow-right').hide()\n\n        @calendar = new ComboBox\n            el: @$('#calendarcombo')\n            small: true\n            source: app.tags.calendars()\n\n        @updateMapLink()\n\n\n    getTitle: ->\n        title = if @model.isNew() then @type + ' creation'\n        else 'edit ' + @type\n        t(title)\n\n    getDirection: ->\n        pos = @target.position()\n        fitRight = pos.left + @target.width() + 411 < @container.width()\n        fitLeft = pos.left - 411 > 0\n        fitBottom = pos.top + @target.height() + 200 < @container.height()\n        if not fitLeft and not fitRight\n            if fitBottom then 'bottom' else 'top'\n        else if fitRight then 'right'\n        else 'left'\n\n    getButtonText: -> if @model.isNew() then t('create') else t('edit')\n\n    getRenderData: ->\n        data = _.extend type: @type,\n            @model.attributes,\n            title: @getTitle()\n            editionMode: not @model.isNew()\n            advancedUrl: @parentView.getUrlHash() + '/' + @model.id\n\n        data.calendar = data.tags?[0] or ''\n\n        if @model instanceof Event\n            endDate = @model.getEndDateObject()\n            startDate = @model.getStartDateObject()\n            unless @model.isOneDay()\n                diff = endDate - startDate\n                diff = Math.round(diff / 1000 / 3600 / 24)\n            data.start = startDate.format '{HH}:{mm}'\n            data.end = endDate.format '{HH}:{mm}'\n            data.start = '10:00' if data.start is '00:00'\n            data.end = '18:00' if data.end is '00:00'\n            data.diff = diff or 0\n\n        else\n            data.time = @model.get('timezoneHour')\n            # data.time = @model.getDateObject().format '{HH}:{mm}'\n            data.timezones = require('helpers/timezone').timezones\n\n        return data\n\n    makeNewModel: (options) ->\n        options.start ?= '10:00'\n        options.end ?= '18:00'\n        options.diff ?= 0\n\n        switch @type\n            when 'event' then new Event\n                start: options.start.format Event.dateFormat, 'en-en'\n                end: options.end.format Event.dateFormat, 'en-en'\n                description: ''\n                place: ''\n\n            when 'alarm' then new Alarm\n                trigg: options.start.format Alarm.dateFormat, 'en-en'\n                timezone: 'Europe/Paris'\n                description: ''\n                action: 'DISPLAY'\n\n            else throw new Error 'wrong type'\n\n    onTabClicked: (event) ->\n        @parentView.showPopover\n            type: if @type is 'event' then 'alarm' else 'event'\n            target: @options.target\n            start:  @options.start\n            end:    @options.end\n\n    onAdvancedClicked: (event) =>\n        if @model.isNew()\n            @model.set @getModelAttributes()\n            modal = new EventModal\n                model: @model\n                backurl: window.location.hash\n            $('body').append modal.$el\n            modal.render()\n        else\n            window.location.hash += \"/#{@model.id}\"\n        event.preventDefault()\n        @selfclose()\n\n    onKeyUp: (event) -> #\n        if event.keyCode is 13 or event.which is 13 #ENTER\n            @addButton.click()\n        else if event.keyCode is 27 # ESC\n            @selfclose()\n        else\n            @addButton.removeClass 'disabled'\n\n    formatDate: (relativeTo, value) ->\n        # Intitialize new alarm\n        date = Date.create relativeTo\n\n        # smart detection: set the time if the user input has a time\n        splitted = value.match /([0-9]{1,2}):([0-9]{2})\\+?([0-9]*)/\n        if splitted and splitted[0]\n            [all, hours, minutes, diff] = splitted\n            date.set {hours: +hours, minutes: +minutes}\n            date.advance(days: +diff) if diff\n\n        return date\n\n    getModelAttributes: =>\n        if @model instanceof Event\n            date = @model.getStartDateObject()\n            startDate = @formatDate date, @$('#input-start').val()\n            end = @$('#input-end').val() + '+' + @$('#input-diff').val()\n            endDate = @formatDate date, end\n            data =\n                start: startDate.format Event.dateFormat, 'en-en'\n                end: endDate.format Event.dateFormat, 'en-en'\n                place: @$('#input-place').val()\n                description: @$('#input-desc').val()\n\n        else\n\n            action = if @actionNotif.value and @actionMail.value then 'BOTH'\n            else if @actionMail.value then 'EMAIL'\n            else 'DISPLAY'\n\n            data =\n                timezone: @$('#input-timezone').val()\n                timezoneHour: @$('#input-time').val()\n                description: @$('#input-desc').val()\n                action: action\n\n            if @rruleForm?.hasRRule()\n                data.rrule = @rruleForm.getRRule().toString()\n            else\n                data.rrule = \"\"\n\n        data.tags = [@calendar.value()]\n\n        return data\n\n    onRemoveClicked: =>\n        @removeButton.css 'width', '42px'\n        @removeButton.spin 'tiny'\n        if confirm 'Are you sure ?'\n            @model.destroy\n                wait: true\n                error: ->\n                    alert 'server error occured'\n                complete: =>\n                    @removeButton.spin()\n                    @removeButton.css 'width', '14px'\n                    @selfclose()\n        else @removeButton.spin()\n\n    onAddClicked: () =>\n        return if @$('.btn.add').hasClass 'disabled'\n        @addButton.html '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'\n        @addButton.spin 'small'\n        validModel = @model.save @getModelAttributes(),\n            wait: true\n            success: =>\n                collection = app[@type + 's']\n                collection.add @model\n            error: =>\n                alert 'server error occured'\n            complete: =>\n                @addButton.spin false\n                @addButton.html @getButtonText()\n                @selfclose()\n\n        if not validModel\n            @addButton.html @getButtonText()\n            @addButton.spin()\n            @$('.alert').remove()\n            @$('input').css('border-color', '')\n            @handleError(err) for err in @model.validationError\n\n\n\n    updateMapLink: =>\n        value = encodeURIComponent @$('#input-place').val()\n        btn = @$('#showmap')\n        if value\n            url = \"http://www.openstreetmap.org/search?query=#{value}\"\n            btn.show().attr 'href', url\n        else\n            btn.hide()\n\n    # @TODO : refactor this\n    adjustTimePickers: (changed, newvalue) =>\n        date = @model.getStartDateObject()\n\n        start = @$('#input-start').val()\n        end = @$('#input-end').val()\n        diff = parseInt @$('#input-diff').val()\n\n        startDate = @formatDate date, start\n        endDate = @formatDate date, end + '+' + diff\n\n        if changed is 'start'\n            newStart = @formatDate date, newvalue\n            newEnd = endDate.clone()\n            if newStart.is(newEnd) or newStart.isAfter(newEnd)\n                newEnd = newStart.clone().addHours 1\n\n        else if changed is 'end'\n            newStart = startDate.clone()\n            newEnd = @formatDate date, newvalue + '+' + diff\n\n            if endDate.getHours() is 23 and newEnd.getHours() is 0\n                newEnd.addDays 1\n            else if endDate.getHours() is 0 and newEnd.getHours() is 23\n                newEnd.addDays -1\n\n            if newStart.is(newEnd) or newStart.isAfter(newEnd)\n                newStart = newEnd.clone().addHours -1\n                if newStart.getHours() is 0\n                    newStart.beginningOfDay()\n\n        else if changed is 'diff'\n            if newStart.is(newEnd) or newStart.isAfter(newEnd)\n                newEnd = newStart.clone().addHours 1\n\n        if newEnd.short() is newStart.short()\n            diff = 0\n        else\n            oneday = 1000 * 3600 * 24\n            bde = newEnd.clone().beginningOfDay()\n            bds = newStart.clone().beginningOfDay()\n            console.log \"HERE\", diff, (bde - bds) / oneday\n            diff = Math.round (bde - bds) / oneday\n\n        @$('#input-start').val newStart.format '{HH}:{mm}'\n        @$('#input-end').val newEnd.format '{HH}:{mm}'\n        @$('#input-diff').val diff\n\n        return true\n\n\n    handleError: (error) =>\n        switch error.field\n            when 'description'\n                guiltyFields = '#input-desc'\n\n            when 'startdate'\n                guiltyFields = '#input-start'\n\n            when 'enddate'\n                guiltyFields = '#input-end'\n\n            when 'triggdate'\n                guiltyFields = '#input-time'\n\n            when 'date'\n                guiltyFields = '#input-start, #input-end'\n\n        @$(guiltyFields).css('border-color', 'red')\n        @$(guiltyFields).focus()\n        alertMsg = $('<div class=\"alert\"></div>').text(t(error.value))\n        @$('.popover-content').before alertMsg\n","app = require 'application'\nBaseView = require '../lib/base_view'\nPopover = require './calendar_popover'\nHeader = require './calendar_header'\nhelpers = require 'helpers'\ntimezones = require('helpers/timezone').timezones\n\nAlarm = require 'models/alarm'\nEvent = require 'models/event'\n\n\nmodule.exports = class CalendarView extends BaseView\n\n    id: 'view-container'\n    template: require('./templates/calendarview')\n\n    initialize: (@options) ->\n        @alarmCollection = @model.alarms\n        @listenTo @alarmCollection, 'add'  , @refresh\n        @listenTo @alarmCollection, 'reset', @refresh\n        @listenTo @alarmCollection, 'remove', @onRemove\n        @listenTo @alarmCollection, 'change', @refreshOne\n\n        @eventCollection = @model.events\n        @listenTo @eventCollection, 'add'  , @refresh\n        @listenTo @eventCollection, 'reset', @refresh\n        @listenTo @eventCollection, 'remove', @onRemove\n        @listenTo @eventCollection, 'change', @refreshOne\n        @model = null\n\n        @tagsCollection = app.tags\n        @listenTo @tagsCollection, 'change', @refresh\n\n    afterRender: ->\n        locale = Date.getLocale(app.locale) # thanks sugarjs\n        @cal = @$('#alarms')\n        @view = @options.view\n        @cal.fullCalendar\n            header: false\n            editable: true\n            firstDay: 1 # first day of the week is monday\n            weekMode: 'liquid'\n            height: @handleWindowResize('initial') # initial ratio\n            defaultView: @view\n            year: @options.year\n            month: @options.month\n            date: @options.date\n            viewDisplay: @onChangeView # beware, deprected in next FC\n\n            #i18n by SugarJs\n            monthNames: locale.full_month.split('|').slice(1,13)\n            monthNamesShort: locale.full_month.split('|').slice(13, 26)\n            dayNames: locale.weekdays.slice(0, 7)\n            dayNamesShort: locale.weekdays.slice(0, 7)\n            buttonText:\n                today: locale.day.split('|')[1]\n                month: locale.units[6]\n                week:  locale.units[5]\n                day:   locale.units[4]\n\n            ignoreTimezone: true\n            timeFormat:\n                '' : '' # do not display times on event\n                'agendaWeek': ''\n            columnFormat:\n                'week': 'ddd d'\n\n            axisFormat: \"H:mm\"\n            allDaySlot: false\n            selectable: true\n            selectHelper: false\n            unselectAuto: false\n            eventRender: @onEventRender\n            select: @onSelect\n            eventDragStop: @onEventDragStop\n            eventDrop: @onEventDrop\n            eventClick: @onEventClick\n            eventResizeStop: @onEventResizeStop\n            eventResize: @onEventResize\n            handleWindowResize: false\n\n        source = @eventCollection.getFCEventSource @tagsCollection\n        @cal.fullCalendar 'addEventSource', source\n\n        source = @alarmCollection.getFCEventSource @tagsCollection\n        @cal.fullCalendar 'addEventSource', source\n\n        @calHeader = new Header cal: @cal\n\n        @calHeader.on 'next', => @cal.fullCalendar 'next'\n        @calHeader.on 'prev', => @cal.fullCalendar 'prev'\n        @calHeader.on 'today', => @cal.fullCalendar 'today'\n        @calHeader.on 'week', => @cal.fullCalendar 'changeView', 'agendaWeek'\n        @calHeader.on 'month', => @cal.fullCalendar 'changeView', 'month'\n        @calHeader.on 'list', => app.router.navigate 'list', trigger:true\n        @$('#alarms').prepend @calHeader.render().$el\n\n        @handleWindowResize() #\n        debounced = _.debounce @handleWindowResize, 10\n        $(window).resize (ev) -> debounced() if ev.target is window\n\n    remove: ->\n        @popover?.close()\n        super\n\n\n    handleWindowResize: (initial) =>\n        if $(window).width() > 1000\n            targetHeight = $(window).height() - 90\n            $(\"#menu\").height targetHeight + 90\n        else if $(window).width() > 600\n            targetHeight = $(window).height() - 100\n            $(\"#menu\").height targetHeight + 100\n        else\n            targetHeight = $(window).height() - 50\n            $(\"#menu\").height 40\n\n        @cal.fullCalendar 'option', 'height', targetHeight unless initial is 'initial'\n        @cal.height @$('.fc-header').height() + @$('.fc-content').height()\n\n\n    refresh: (collection) ->\n        @cal.fullCalendar 'refetchEvents'\n\n    onRemove: (model) ->\n        @cal.fullCalendar 'removeEvents', model.cid\n\n    refreshOne: (model) =>\n        return @refresh() if model.getRRuleObject() #@TODO: may be smarter\n\n        data = model.toFullCalendarEvent()\n        [fcEvent] = @cal.fullCalendar 'clientEvents', data.id\n        _.extend fcEvent, data\n        @cal.fullCalendar 'updateEvent', fcEvent\n\n    showPopover: (options) ->\n        options.container = @cal\n        options.parentView = this\n\n        if @popover\n            @popover.close()\n\n            # click on same case\n\n            if @popover.options?\n                if @popover.options.model? and @popover.options.model is options.model or(\n                    @popover.options.start?.is(options.start) and\n                    @popover.options.end?.is(options.end) and\n                    @popover.options.type is options.type)\n                    @cal.fullCalendar 'unselect'\n                    @popover = null\n                    return\n\n        @popover = new Popover options\n        @popover.render()\n\n    onChangeView: (view) =>\n        @calHeader?.render()\n        if @view isnt view.name\n            @handleWindowResize()\n\n        @view = view.name\n\n        start = view.start\n        hash = if @view is 'month'\n            \"month/#{start.getFullYear()}/#{start.getMonth()+1}\"\n        else\n            year = start.getFullYear()\n            month = start.getMonth()+1\n            date = start.getDate()\n            \"week/#{year}/#{month}/#{date}\"\n\n        app.router.navigate hash\n\n    getUrlHash: =>\n        switch @cal.fullCalendar('getView').name\n            when 'month' then 'calendar'\n            when 'agendaWeek' then 'calendarweek'\n\n    onSelect: (startDate, endDate, allDay, jsEvent, view) =>\n        @showPopover\n            type: 'event'\n            start: startDate\n            end: endDate\n            target: $(jsEvent.target)\n\n    onPopoverClose: ->\n        @cal.fullCalendar 'unselect'\n        @popover = null\n\n    onEventRender: (event, element) ->\n        if event.isSaving? and event.isSaving\n            spinTarget = $(element).find('.fc-event-time')\n            spinTarget.addClass 'spinning'\n            spinTarget.html \"&nbsp;\"\n            spinTarget.spin \"tiny\"\n\n        $(element).attr 'title', event.title\n        if event.type is 'alarm'\n            icon = '<i class=\"icon-bell icon-white\"></i>'\n            element.find('.fc-event-title').prepend icon\n\n        return element\n\n    onEventDragStop: (event, jsEvent, ui, view) ->\n        event.isSaving = true\n\n    onEventDrop: (fcEvent, dayDelta, minuteDelta, allDay,\n                  revertFunc, jsEvent, ui, view) =>\n\n        # Update new dates of event\n        if fcEvent.type is 'alarm'\n            alarm = @alarmCollection.get fcEvent.id\n\n            # if alarm.get('timezoneHour')?\n            #     # Hour should correspond to alarm timezone\n            #     startRaw = alarm.get('timezoneHour')\n            #     alarm.getDateObject().setHours(startRaw.substring(0, 2))\n            #     alarm.getDateObject().setMinutes(startRaw.substring(3, 5))\n\n            trigg = alarm.getDateObject().clone().advance\n                days: dayDelta\n                minutes: minuteDelta\n\n            alarm.save\n                trigg: trigg.format Alarm.dateFormat, 'en-en'\n                timezoneHour: false\n            ,\n                wait: true\n                success: =>\n                    fcEvent.isSaving = false\n                    @cal.fullCalendar 'renderEvent', fcEvent\n                error: =>\n                    fcEvent.isSaving = false\n                    revertFunc()\n        else\n            evt = @eventCollection.get fcEvent.id\n            start = evt.getStartDateObject().clone().advance\n                days: dayDelta\n                minutes: minuteDelta\n\n            end = evt.getEndDateObject().clone().advance\n                days: dayDelta\n                minutes: minuteDelta\n\n            evt.save\n                start: start.format Event.dateFormat, 'en-en'\n                end: end.format Event.dateFormat, 'en-en'\n            ,\n                wait: true\n                success: =>\n                    fcEvent.isSaving = false\n                    @cal.fullCalendar 'renderEvent', fcEvent\n                error: =>\n                    fcEvent.isSaving = false\n                    revertFunc()\n\n    onEventResizeStop: (fcEvent, jsEvent, ui, view) ->\n        fcEvent.isSaving = true\n\n    onEventResize: (fcEvent, dayDelta, minuteDelta, revertFunc,\n                    jsEvent, ui, view) =>\n\n        # alarms can't be resized\n        if fcEvent.type is \"alarm\"\n            fcEvent.isSaving = false\n            @cal.fullCalendar 'renderEvent', fcEvent\n            revertFunc()\n            return\n\n        model = @eventCollection.get fcEvent.id\n        end = model.getEndDateObject().clone()\n        end.advance\n            days: dayDelta\n            minutes: minuteDelta\n\n        data =\n            end: end.format Event.dateFormat, 'en-en'\n\n        model.save data,\n            wait: true\n            success: =>\n                fcEvent.isSaving = false\n                @cal.fullCalendar 'renderEvent', fcEvent\n\n            error: =>\n                fcEvent.isSaving = false\n                revertFunc()\n\n\n    onEventClick: (fcEvent, jsEvent, view) =>\n        return true if $(jsEvent.target).hasClass 'ui-resizable-handle'\n\n        model = if fcEvent.type is 'alarm' then @alarmCollection.get fcEvent.id\n        else if fcEvent.type is 'event' then @eventCollection.get fcEvent.id\n        else throw new Error('wrong typed event in fc')\n\n        @showPopover\n            model: model,\n            target: $(jsEvent.currentTarget)\n","ViewCollection = require 'lib/view_collection'\nRRuleFormView  = require 'views/event_modal_rrule'\nTagsView       = require 'views/tags'\nComboBox       = require 'views/widgets/combobox'\nEvent          = require 'models/event'\nrandom         = require 'lib/random'\napp            = require 'application'\n\nmodule.exports = class EventModal extends ViewCollection\n\n    template: require './templates/event_modal'\n\n    id: 'event-modal'\n    className: 'modal fade'\n    attributes:\n        'data-keyboard': 'false'\n\n    inputDateTimeFormat: '{dd}/{MM}/{year} {HH}:{mm}'\n    inputDateFormat: '{year}-{MM}-{dd}'\n    exportDateFormat: '{year}-{MM}-{dd}-{HH}-{mm}'\n\n    collectionEl: '#guests-list'\n    itemview: require './event_modal_guest'\n\n    initialize: (options) ->\n        guests = @model.get('attendees') or []\n        @collection = new Backbone.Collection guests\n        @backurl = options.backurl\n        super\n\n    events: ->\n        'click  #confirm-btn': 'save'\n        'click  #cancel-btn': 'close'\n        'click  .close': 'close'\n        'click #addguest': => @onGuestAdded @$('#addguest-field').val()\n        'keydown #basic-description'    : 'resizeDescription'\n        'keypress #basic-description'   : 'resizeDescription'\n\n    afterRender: ->\n        super\n        @addGuestField = @configureGuestTypeahead()\n        @startField = @$('#basic-start').attr('type', 'text')\n        @startField.datetimepicker\n                autoclose: true\n                format: 'dd/mm/yyyy hh:ii'\n                pickerPosition: 'bottom-left'\n                viewSelect: 4\n        @endField = @$('#basic-end').attr('type', 'text')\n        @endField.datetimepicker\n                autoclose: true\n                format: 'dd/mm/yyyy hh:ii'\n                pickerPosition: 'bottom-left'\n                viewSelect: 4\n\n        @descriptionField = @$('#basic-description')\n\n        @rruleForm = new RRuleFormView model: @model\n        @rruleForm.render()\n        @$('#rrule-container').append @rruleForm.$el\n\n        @tags = new TagsView\n            model: @model\n            el: @$('#basic-tags')\n\n        @calendar = new ComboBox\n            el: @$('#basic-calendar')\n            source: app.tags.calendars()\n\n        @$el.modal 'show'\n        $(document).on 'keydown', @hideOnEscape\n        @$el.on 'hidden', =>\n            $(document).off('keydown', @hideOnEscape)\n            window.app.router.navigate @backurl or '',\n                trigger: false,\n                replace: true\n            @remove()\n\n        @$('#basic-summary').focus()\n\n    hideOnEscape: (e) =>\n        # escape from outside a datetimepicker\n        @close() if e.which is 27 and not e.isDefaultPrevented()\n\n\n    onGuestAdded: (info) =>\n        [email, id] = info.split ';'\n        return \"\" unless email\n        guests = @model.get('attendees') or []\n        if not _.findWhere(guests, email: email)\n            guests.push\n                key: random.randomString()\n                status: 'INVITATION-NOT-SENT'\n                email: email\n                contactid: id or null\n            @model.set 'attendees', guests\n            @refreshGuestList()\n            @$('#confirm-btn').text t 'save changes and invite guests'\n\n        @addGuestField.val ''\n        return \"\"\n\n    refreshGuestList: =>\n        @collection.reset @model.get('attendees')\n\n    resizeDescription: =>\n        notes = @descriptionField.val()\n        rows = loc = 0\n        # count occurences of \\n in notes\n        rows++ while loc = notes.indexOf(\"\\n\", loc) + 1\n        @descriptionField.prop 'rows', rows + 2\n\n    getRenderData: ->\n        data = _.extend {}, @model.toJSON(),\n            summary: @model.get('description')\n            description: @model.get('details')\n            start: @model.getStartDateObject().format @inputDateTimeFormat\n            end: @model.getEndDateObject().format @inputDateTimeFormat\n            exportdate: @model.getStartDateObject().format @exportDateFormat\n\n        data.calendar = data.tags?[0] or ''\n        data.tags = data.tags?[1..] or []\n\n        return data\n\n\n    save: =>\n        data =\n            details: @descriptionField.val()\n            description: @$('#basic-summary').val()\n            place: @$('#basic-place').val()\n            tags: [@$('#basic-calendar').val()].concat @tags.getTags()\n            start: Date.create(@startField.val(), 'fr')\n                .format Event.dateFormat, 'en'\n            end: Date.create(@endField.val(), 'fr')\n                .format Event.dateFormat, 'en'\n\n        if @rruleForm.hasRRule()\n            data.rrule = @rruleForm.getRRule().toString()\n        else\n            data.rrule = ''\n\n        validModel = @model.save data,\n            wait: true\n            success: =>\n                @close()\n            error: =>\n                alert('server error')\n                @close()\n\n        if not validModel\n            @$('.alert').remove()\n            @$('.control-group').removeClass('error')\n            @handleError error for error in @model.validationError\n\n    handleError: (error) =>\n        switch error.field\n            when 'description'\n                guiltyFields = '#basic-summary'\n\n            when 'startdate'\n                guiltyFields = '#basic-start'\n\n            when 'enddate'\n                guiltyFields = '#basic-end'\n\n            when 'date'\n                guiltyFields = '#basic-start, #basic-end'\n\n        @$(guiltyFields).parents('.control-group').addClass('error')\n        alertMsg = $('<div class=\"alert\"></div>').text(t(error.value))\n        @$('.modal-body').before alertMsg\n\n    configureGuestTypeahead: =>\n        @$('#addguest-field').typeahead\n            source: app.contacts.asTypeaheadSource()\n            matcher: (contact) ->\n                old = $.fn.typeahead.Constructor::matcher\n                return old.call this, contact.display\n            sorter: (contacts) ->\n                beginswith = []\n                caseSensitive = []\n                caseInsensitive = []\n\n                while (contact = contacts.shift())\n                    item = contact.display\n                    if !item.toLowerCase().indexOf this.query.toLowerCase()\n                        beginswith.push contact\n                    else if ~item.indexOf this.query then caseSensitive.push contact\n                    else caseInsensitive.push contact\n\n                return beginswith.concat caseSensitive, caseInsensitive\n\n            highlighter: (contact) ->\n                old = $.fn.typeahead.Constructor::highlighter\n                return old.call this, contact.display\n\n            updater: @onGuestAdded\n\n    close: =>\n        @$el.modal 'hide'\n\n    remove: =>\n        @tags.remove()\n        @calendar.remove()\n        @startField.data('datetimepicker').remove()\n        @endField.data('datetimepicker').remove()\n        super\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class GuestView extends BaseView\n\n    template: require('./templates/event_modal_guest')","BaseView = require '../lib/base_view'\n\nmodule.exports = class RRuleView extends BaseView\n\n    template: require('./templates/event_modal_rrule')\n    inputDateFormat: '{year}-{MM}-{dd}'\n\n    events: ->\n        'click  .rrule-show': 'showRRule'\n        'change #rrule': 'updateHelp'\n        'changeDate #rrule-until': 'toggleCountUntil'\n        'input  #rrule-until': 'toggleCountUntil'\n        'change #rrule-count': 'toggleCountUntil'\n\n    afterRender: ->\n        @$('#rrule').hide()\n        @updateHelp()\n\n        @$('#rrule-until').attr('type','text').datetimepicker(\n            format: 'dd/mm/yyyy'\n            minView: 2 # datepicker only\n        ).on 'changeDate', @updateHelp\n\n    getRenderData: ->\n        data =\n            weekDays: Date.getLocale().weekdays.slice(0, 7)\n            units: Date.getLocale().units\n\n        unless @model.has 'rrule'\n            return _.extend data,\n                rrule: freq: 'NOREPEAT', interval: 1, count: 4, until: \"\"\n                freqSelected: (value) -> 'selected' if value is 'NOREPEAT'\n                wkdaySelected: -> false\n                endModeSelected: (value) -> 'selected' if value is 'forever'\n                yearModeIs: (value) -> \"checked\" if value is 'date'\n\n\n        options = RRule.fromString(@model.get('rrule')).options\n        rrule =\n            freq: options.freq\n            interval: options.interval\n\n        if options.until\n            rrule.endMode = 'until'\n            rrule.until = Date.create(options.until).format @inputDateFormat\n            rrule.count = \"\"\n        else if options.count\n            rrule.endMode = 'count'\n            rrule.count = options.count\n            rrule.until = \"\"\n        else\n            rrule.endMode = 'forever'\n            rrule.count = ''\n            rrule.until = ''\n\n        return _.extend data,\n            rrule: rrule\n            freqSelected: (value) ->\n                result = value is rrule.freq\n                if result then 'selected'\n            wkdaySelected: (value) ->\n                result = options.byweekday and (value+6)%7 in options.byweekday\n                if result then 'checked'\n            endModeSelected: (value) ->\n                if value is rrule.endMode then 'selected'\n            yearModeIs: (value) ->\n                result = (value is 'weekdate' and options.bynweekday?.length) or\n                (value is 'date' and options.bymonthday?.length)\n                if result then 'checked'\n\n    hasRRule: =>\n        @$('#rrule-freq').val() isnt 'NOREPEAT'\n\n    getRRule: =>\n        start = @model.getStartDateObject()\n        RRuleWdays = [RRule.SU, RRule.MO, RRule.TU, RRule.WE,\n            RRule.TH, RRule.FR, RRule.SA]\n\n        options =\n            dtstart: start\n            freq: +@$('#rrule-freq').val()\n            interval: +@$('#rrule-interval').val()\n\n        if options.freq is RRule.WEEKLY\n            options.byweekday = []\n            @$('#rrule-weekdays :checked').each (idx, box) ->\n                options.byweekday.push RRuleWdays[box.value]\n            delete options.byweekday if options.byweekday.length is 7\n\n        else if options.freq is RRule.MONTHLY\n            monthmode = @$('#rrule-monthdays :radio:checked').val()\n            if monthmode is \"date\"\n                options.bymonthday = start.getDate()\n            else if monthmode is 'weekdate'\n                day = RRuleWdays[start.getDay()]\n                endOfMonth = start.clone().endOfMonth()\n                if start.getDate() > endOfMonth.getDate() - 7\n                    wk = -1\n                else\n                    wk = Math.ceil start.getDate() / 7\n\n                options.byweekday = day.nth(wk)\n\n        # count or until\n        switch @$('input:radio[name=endMode]:checked').val()\n            when 'count'\n                options.count = +@$('#rrule-count').val()\n            when 'until'\n                options.until = Date.create @$('#rrule-until').val(), 'fr'\n\n        new RRule options\n\n    showRRule: =>\n        @updateHelp()\n        @$('#rrule-action').hide()\n        @$('#rrule-short').slideDown =>\n            @$('#rrule').slideDown()\n\n\n    # if [count] in entered, empty [until] value & viceversa\n    toggleCountUntil: (event) =>\n\n        radio = @$('input:radio[name=endMode]')\n\n        if event.target.id is \"rrule-count\"\n            @$('#rrule-until').val('')\n            radio[1].checked = true\n\n        else if event.target.id is \"rrule-until\"\n            @$('#rrule-count').val('')\n            radio[2].checked = true\n\n        @updateHelp()\n\n    updateHelp: =>\n        freq = @$('#rrule-freq').val()\n        if freq is 'NOREPEAT'\n            @$('#rrule').hide()\n            @$('#rrule-action').show()\n            @$('#rrule-help').html t 'no recurrence'\n            return\n        else freq = +freq\n\n        @$('#rrule-monthdays').toggle freq is RRule.MONTHLY\n        @$('#rrule-weekdays').toggle  freq is RRule.WEEKLY\n        locale = Date.getLocale()\n        language =\n            dayNames: locale.weekdays.slice(0, 7)\n            monthNames: locale.full_month.split('|').slice(1,13)\n        @$('#rrule-help').html @getRRule().toText(window.t, language)\n        return true","ViewCollection = require '../lib/view_collection'\nAlarmView = require './import_alarm_view'\nAlarmCollection = require '../collections/alarms'\n\nmodule.exports = class AlarmList extends ViewCollection\n\n    itemview: AlarmView\n    collection: new AlarmCollection()\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class AlarmView extends BaseView\n\n    tagName: 'div'\n    className: 'alarm'\n    template: require './templates/import_alarm'\n\n    getRenderData: ->\n        _.extend @model.toJSON(),\n            time: @model.getFormattedDate '{yyyy}/{MM}/{dd} {HH}:{mm}'\n            description: @model.get 'description'\n\n","ViewCollection = require '../lib/view_collection'\nEventView = require './import_event_view'\nEventCollection = require '../collections/events'\n\nmodule.exports = class EventList extends ViewCollection\n\n    itemview: EventView\n    collection: new EventCollection()\n","BaseView = require '../lib/base_view'\n\nmodule.exports = class EventView extends BaseView\n\n    tagName: 'div'\n    className: 'event'\n    template: require './templates/import_event'\n\n    getRenderData: ->\n        _.extend @model.toJSON(),\n            start: @model.getFormattedStartDate '{yyyy}/{MM}/{dd} {HH}:{mm}'\n            end: @model.getFormattedEndDate '{yyyy}/{MM}/{dd} {HH}:{mm}'\n","BaseView = require '../lib/base_view'\nComboBox = require 'views/widgets/combobox'\nhelpers = require '../helpers'\n\nAlarm = require '../models/alarm'\nAlarmList = require './import_alarm_list'\nEvent = require '../models/event'\nEventList = require './import_event_list'\n\n\nmodule.exports = class ImportView extends BaseView\n\n    id: 'view-container'\n\n    events:\n        'change #import-file-input': 'onFileChanged'\n        'click button#confirm-import-button': 'onConfirmImportClicked'\n        'click button#cancel-import-button': 'onCancelImportClicked'\n\n    template: require('./templates/import_view')\n\n    afterRender: ->\n        @$(\".confirmation\").hide()\n        @$(\".results\").hide()\n        @alarmList = new AlarmList el: @$ \"#import-alarm-list\"\n        @alarmList.render()\n        @eventList = new EventList el: @$ \"#import-event-list\"\n        @eventList.render()\n        @uploader = @$ '#import-file-input'\n        @importButton = @$ '#import-button'\n        @confirmButton = @$ 'button#confirm-button'\n\n        # Combo to select in which calendar events will be imported.\n        # Autocomplete method cannot be loaded too early. So, we delay its\n        # call (the render of the top view occurs after).\n        setTimeout =>\n            @calendarCombo = new ComboBox\n                el: @$('#import-calendar-combo')\n                small: true\n                source: app.tags.calendars()\n        , 500\n\n    onFileChanged: (event) ->\n        file = @uploader[0].files[0]\n        return unless file\n        form = new FormData()\n        form.append \"file\", file\n        @importButton.find('span').html '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'\n        @importButton.spin 'tiny'\n\n        # Empty alarm and event collection before importing new lists.\n        @alarmList.collection.reset()\n        @eventList.collection.reset()\n        @$('.import-progress').html null\n        @$('.import-errors').html null\n\n        $.ajax\n            url: \"import/ical\"\n            type: \"POST\"\n            data: form\n            processData: false\n            contentType: false\n            success: (result) =>\n\n                if result?.alarms?\n                    for valarm in result.alarms\n                        alarm = new Alarm valarm, parse: true\n                        @alarmList.collection.add alarm\n\n                if result?.events?\n                    for vevent in result.events\n                        event = new Event vevent\n                        @eventList.collection.add event\n\n                @$(\".import-form\").fadeOut =>\n                    @resetUploader()\n                    @importButton.spin()\n                    @importButton.find('span').html t 'select an icalendar file'\n                    @$(\".results\").slideDown()\n                    @$(\".confirmation\").fadeIn()\n\n            error: (xhr) =>\n                msg = JSON.parse(xhr.responseText).msg\n                unless msg?\n                    msg = 'An error occured while importing your calendar.'\n                alert msg\n                @resetUploader()\n                @importButton.spin()\n                @importButton.find('span').html t 'select an icalendar file'\n\n    # When import confirmation is clicked, all events and alarm loaded are\n    # saved to the backend and linked with the selected calendar.\n    onConfirmImportClicked: ->\n\n        # The user selects the calendar that will be set on all imported events\n        # and alarms.\n        calendar = @calendarCombo.value()\n        calendar = 'my calendar' if not calendar? or calendar is ''\n\n        # Amount of elements to import.\n        total = @alarmList.collection.length + @eventList.collection.length\n        counter = 0\n\n        # Set the progress widget\n        $('.import-progress').html \"\"\"\n        <p>#{t 'imported events and alarms'}:\n            <span class=\"import-counter\">0</span>/#{total}</p>\n        \"\"\"\n\n        updateCounter = ->\n            counter++\n            $('.import-counter').html counter\n\n        addError = (element, templatePath) ->\n            if $('.import-errors').html().length is 0\n                $('.import-errors').html \"\"\"\n                <p>#{t 'import error occured for'}:</p>\n                \"\"\"\n\n            $('.import-errors').append(\n                require(templatePath)(element.attributes)\n            )\n\n        # Show loading spinner.\n        @confirmButton.html '&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'\n        @confirmButton.spin 'tiny'\n\n        importAlarm = (alarm, callback) ->\n            alarm.set 'tags', [calendar]\n            alarm.set 'id', null\n            alarm.set 'import', true\n            alarm.save null,\n                success: (model) ->\n                    # When an element is successfully imported, it is added to\n                    # the current calendar view.\n                    app.alarms.add model\n                    updateCounter()\n                    callback()\n\n                error: ->\n                    # When an element failed to import, an error message is\n                    # displayed.\n                    addAlarmError alarm, './templates/import_alarm'\n                    updateCounter()\n                    callback()\n\n        importEvent = (event, callback) ->\n            event.set 'tags', [calendar]\n            event.set 'id', null\n            event.set 'import', true\n            event.save null,\n                success: (model) ->\n                    # When an element is successfully imported, it is added\n                    # to the current calendar view.\n                    app.events.add model\n                    updateCounter()\n                    callback()\n                error: ->\n                    # When an element failed to import, an error message is\n                    # displayed.\n                    addEventError event, './templates/import_event'\n                    updateCounter()\n                    callback()\n\n        # When import is finished, the import form is reset and the\n        # calendar view is displayed.\n        finalizeImport = (err) =>\n            alert t 'import finished'\n            @$(\".confirmation\").fadeOut()\n            @$(\".results\").slideUp =>\n                @$(\".import-form\").fadeIn()\n                @confirmButton.html t 'confirm import'\n                if $('.import-errors').html().length is 0\n                    app.router.navigate \"calendar\", true\n\n        # Save every imported alarms to the database.\n        alarms = @alarmList.collection.models\n        async.eachSeries alarms, importAlarm, (err) =>\n            # Save every imported events to the database.\n            events = @eventList.collection.models\n            async.eachSeries events, importEvent, finalizeImport\n\n    onCancelImportClicked: ->\n        @$(\".confirmation\").fadeOut()\n        @$(\".results\").slideUp =>\n            @$(\".import-form\").fadeIn()\n\n    resetUploader: ->\n        @uploader.wrap('<form>').parent('form').trigger('reset')\n        @uploader.unwrap()\n","ViewCollection      = require '../lib/view_collection'\nHeader              = require 'views/calendar_header'\nhelpers = require '../helpers'\ndefaultTimezone = 'timezone'\n\n\nmodule.exports = class ListView extends ViewCollection\n\n    id: 'view-container'\n    template: require './templates/list_view'\n    itemview: require './list_view_bucket'\n    collectionEl: '#alarm-list'\n    events:\n        'click .showbefore': 'showbefore'\n\n    afterRender: ->\n        @calHeader = new Header()\n        @$('#alarm-list').prepend @calHeader.render().$el\n        @calHeader.on 'month', => app.router.navigate '', trigger:true\n        @calHeader.on 'week', => app.router.navigate 'week', trigger:true\n        super\n\n    appendView: (view) ->\n        index = @collection.indexOf view.model\n        el = view.$el\n        today = (new Date()).beginningOfDay()\n        if view.model.get('date').isBefore today\n            el.addClass('before').hide()\n        else\n            el.addClass('after')\n\n        if index is 0 then @calHeader.$el.after el\n        else\n            prevCid = @collection.at(index-1).cid\n            @views[prevCid].$el.after el\n\n    showbefore: =>\n        first = @$('.after').first()\n        body = $('html, body')\n        @$('.before').slideDown\n            progress: -> body.scrollTop first.offset().top\n\n        @$('.showbefore').fadeOut()\n","ViewCollection = require '../lib/view_collection'\nPopover = require './calendar_popover'\n\nmodule.exports = class BucketView extends ViewCollection\n\n    tagName: 'div'\n    className: 'dayprogram'\n    template: require './templates/list_view_bucket'\n    itemview: require './list_view_item'\n    collectionEl: '.alarms'\n\n    events:\n        'click .add': 'makeNew'\n\n    initialize: ->\n        @collection = @model.items\n        super\n\n    getRenderData: ->\n        date: @model.get('date').format 'short'\n\n    makeNew: ->\n        @showPopover\n            type: 'event'\n            start: @model.get('date').clone().set hour: 8, minute: 30\n            end: @model.get('date').clone().set hour: 10, minute: 0\n            target: @$('.add')\n\n    showPopover: (options) -> #@TODO\n        options.parentView = this\n        options.container = $('body')\n        @popover.close() if @popover\n        @popover = new Popover options\n        @popover.render()\n\n    getUrlHash: -> 'list'\n\n    appendView: (view) ->\n        index = @collection.indexOf view.model\n        el = view.$el\n        if index is 0 then @$collectionEl.prepend el\n        else\n            prevCid = @collection.at(index-1).cid\n            @views[prevCid].$el.after el\n","BaseView = require '../lib/base_view'\nPopover = require './calendar_popover'\nEvent = require '../models/event'\ncolorHash = require 'lib/colorhash'\n\n\nmodule.exports = class AlarmView extends BaseView\n\n    className: 'scheduleElement'\n    template: require './templates/list_view_item'\n\n    events:\n        'click .icon-pencil':'editMode'\n        'click .icon-trash':'deleteModel'\n\n    initialize: ->\n        @listenTo @model, \"change\", @render\n        @listenTo app.tags, 'change:visible', @render\n\n    deleteModel: ->\n        return unless confirm t \"are you sure\"\n        @$el.spin 'tiny'\n        @model.destroy\n            error: ->\n                alert('server error')\n                @$el.spin()\n\n    editMode: -> #@TODO\n        @popover.close() if @popover\n        @popover = new Popover\n            model: @model,\n            target: @$el\n            parentView: this\n            container: $('body')\n        @popover.render()\n\n    getUrlHash: -> 'list'\n\n    getRenderData: ->\n        data = @model.toJSON()\n        tag = @model.getCalendar()\n        data.color = if tag then colorHash(tag) else ''\n        if @model instanceof Event\n            _.extend data,\n                type: 'event'\n                start: @model.getFormattedStartDate '{HH}:{mm}'\n                end: @model.getFormattedEndDate '{HH}:{mm}'\n        else\n            _.extend data,\n                type: 'alarm'\n                time: @model.getFormattedDate '{HH}:{mm}'\n\n        return data\n\n","ViewCollection = require '../lib/view_collection'\n\n\nmodule.exports = class MenuView extends ViewCollection\n\n    tagName: 'ul'\n    id: 'menu'\n    className: 'container nav nav-list'\n    collectionEl: '#menuitems'\n    template: require './templates/menu'\n    itemview: require 'views/menu_item'\n\n    events: ->\n        'click .calendars': 'toggleDropdown'\n\n    activate: (href) ->\n        @$('.active').removeClass 'active'\n        @$('a[href=\"#' + href + '\"]').parent().addClass 'active'\n\n    toggleDropdown: ->\n        @$('#menuitems').toggleClass 'visible'\n\n    addItem: (model) ->\n        return if model.get('type') isnt 'calendar'\n        super\n","BaseView = require '../lib/base_view'\nPopover = require './calendar_popover'\nEvent = require '../models/event'\ncolorhash = require 'lib/colorhash'\n\n\nmodule.exports = class MenuItemView extends BaseView\n\n    tagName: 'li'\n    className: 'tagmenuitem'\n    template: require './templates/menu_item'\n\n    events:\n        'click': 'toggleVisible'\n\n    toggleVisible: ->\n        unless app.router.onCalendar\n            app.router.navigate 'calendar', true\n        @model.set 'visible', not @model.get 'visible'\n        @render()\n\n    getRenderData: ->\n        label: @model.get 'label'\n        color: colorhash @model.get 'label'\n        visible: @model.get('visible')","BaseView = require '../lib/base_view'\nImportView = require './import_view'\n\nmodule.exports = class SyncView extends BaseView\n\n    id: 'view-container'\n    template: require './templates/sync_view'\n\n    afterRender: ->\n        @$('#importviewplaceholder').append new ImportView().render().$el","BaseView = require 'lib/base_view'\n\ncolorHash = require 'lib/colorhash'\n\nmodule.exports = class TagsView extends BaseView\n\n    initialize: ->\n        super\n        @$el.hide().tagit\n            availableTags: app.tags.toArray()\n            placeholderText: t 'add tags'\n            afterTagAdded  : @tagAdded\n\n        # hack to prevent tagit events\n        @duringRefresh = false\n\n        return this\n\n    tagAdded: (ev, ui) =>\n        ui.tag.css 'background-color', colorHash ui.tagLabel\n\n    getTags: ->\n        @$el.tagit 'assignedTags'\n\n    refresh: =>\n        @duringRefresh = true\n        @$el.tagit 'removeAll'\n        for tag in @model.get('tags')\n            @$el.tagit 'createTag', tag\n        @duringRefresh = false\n\n\n\n","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),calendarMode = locals_.calendarMode,active = locals_.active,todaytxt = locals_.todaytxt,title = locals_.title;\nbuf.push(\"<tbody><tr><td class=\\\"fc-header-left\\\">\");\nif ( calendarMode)\n{\nbuf.push(\"<span class=\\\"fc-button fc-button-prev fc-corner-left\\\"><span class=\\\"fc-text-arrow\\\"></span></span><span class=\\\"fc-button fc-button-next fc-corner-right\\\"><span class=\\\"fc-text-arrow\\\"></span></span><span class=\\\"fc-header-space\\\"></span><span\" + (jade.cls(['fc-button','fc-button-today',active('today')], [null,null,true])) + \">\" + (jade.escape(null == (jade_interp = todaytxt) ? \"\" : jade_interp)) + \"</span>\");\n}\nbuf.push(\"</td><td class=\\\"fc-header-center\\\"><span class=\\\"fc-header-title\\\"><h2>\" + (jade.escape(null == (jade_interp = title) ? \"\" : jade_interp)) + \"</h2></span></td><td class=\\\"fc-header-right\\\"><span\" + (jade.cls(['fc-button','fc-button-month',active('month')], [null,null,true])) + \">\" + (jade.escape(null == (jade_interp = t('month')) ? \"\" : jade_interp)) + \"</span><span\" + (jade.cls(['fc-button','fc-button-week',active('week')], [null,null,true])) + \">\" + (jade.escape(null == (jade_interp = t('week')) ? \"\" : jade_interp)) + \"</span><span\" + (jade.cls(['fc-button','fc-button-list',active('list')], [null,null,true])) + \">\" + (jade.escape(null == (jade_interp = t('list')) ? \"\" : jade_interp)) + \"</span></td></tr></tbody>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"alarms\\\" class=\\\"well\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),id = locals_.id,exportdate = locals_.exportdate,summary = locals_.summary,start = locals_.start,end = locals_.end,place = locals_.place,calendar = locals_.calendar,tags = locals_.tags,description = locals_.description;\nbuf.push(\"<div class=\\\"modal-header\\\"><span>\" + (jade.escape(null == (jade_interp = t('edit event')) ? \"\" : jade_interp)) + \"</span>&nbsp;\");\nif ( typeof id != \"undefined\")\n{\nbuf.push(\"<a\" + (jade.attr(\"href\", \"events/\" + (id) + \"/\" + (exportdate) + \".ics\", true, false)) + \"><i class=\\\"fa fa-download fa-1\\\"></i></a>\");\n}\nbuf.push(\"<button class=\\\"close\\\">&times;</button></div><div class=\\\"modal-body\\\"><form id=\\\"basic\\\" class=\\\"form-inline\\\"><div class=\\\"row-fluid\\\"><div class=\\\"control-group span12\\\"><label for=\\\"basic-summary\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('summary')) ? \"\" : jade_interp)) + \"</label><div class=\\\"controls\\\"><input id=\\\"basic-summary\\\" type=\\\"text\\\"\" + (jade.attr(\"value\", summary, true, false)) + \" class=\\\"span12\\\"/></div></div></div><div class=\\\"row-fluid\\\"><div class=\\\"control-group span6 date\\\"><label for=\\\"basic-start\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('start')) ? \"\" : jade_interp)) + \"</label><br/><input id=\\\"basic-start\\\" type=\\\"datetime-local\\\"\" + (jade.attr(\"value\", start, true, false)) + \" class=\\\"span12\\\"/></div><div class=\\\"control-group span6 date\\\"><label for=\\\"basic-end\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('end')) ? \"\" : jade_interp)) + \"</label><br/><input id=\\\"basic-end\\\" type=\\\"datetime-local\\\"\" + (jade.attr(\"value\", end, true, false)) + \" class=\\\"span12\\\"/></div></div><div class=\\\"row-fluid\\\"><div class=\\\"control-group span12\\\"><label for=\\\"basic-place\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('place')) ? \"\" : jade_interp)) + \"</label><div class=\\\"controls\\\"><input id=\\\"basic-place\\\" type=\\\"text\\\"\" + (jade.attr(\"value\", place, true, false)) + \" class=\\\"span12\\\"/></div></div></div><div class=\\\"row-fluid\\\"><div class=\\\"control-group span12\\\"><label for=\\\"basic-calendar\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('calendar')) ? \"\" : jade_interp)) + \"</label><div class=\\\"controls\\\"><input id=\\\"basic-calendar\\\"\" + (jade.attr(\"value\", calendar, true, false)) + \"/></div></div><div style=\\\"display:none;\\\" class=\\\"control-group span8\\\"><label for=\\\"basic-tags\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('tags')) ? \"\" : jade_interp)) + \"</label><div class=\\\"controls\\\"><input id=\\\"basic-tags\\\"\" + (jade.attr(\"value\", tags.join(','), true, false)) + \" class=\\\"span12 tagit\\\"/></div></div></div><div class=\\\"row-fluid\\\"><div class=\\\"control-group span12\\\"><label for=\\\"basic-description\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('description')) ? \"\" : jade_interp)) + \"</label><div class=\\\"controls\\\"><textarea id=\\\"basic-description\\\" class=\\\"span12\\\">\" + (jade.escape(null == (jade_interp = description) ? \"\" : jade_interp)) + \"</textarea></div></div></div></form><div id=\\\"guests-block\\\"><h4>\" + (jade.escape(null == (jade_interp = t('guests')) ? \"\" : jade_interp)) + \"</h4><form id=\\\"guests\\\" class=\\\"form-inline\\\"><div class=\\\"control-group\\\"><div class=\\\"controls\\\"><input id=\\\"addguest-field\\\" type=\\\"text\\\"\" + (jade.attr(\"placeholder\", t('enter email'), true, false)) + \"/><a id=\\\"addguest\\\" class=\\\"btn\\\">\" + (jade.escape(null == (jade_interp = t('invite')) ? \"\" : jade_interp)) + \"</a></div></div></form><div id=\\\"guests-list\\\"></div><h4>\" + (jade.escape(null == (jade_interp = t('recurrence')) ? \"\" : jade_interp)) + \"</h4><div id=\\\"rrule-container\\\"></div></div></div><div class=\\\"modal-footer\\\"><a id=\\\"cancel-btn\\\">\" + (jade.escape(null == (jade_interp = t(\"cancel\")) ? \"\" : jade_interp)) + \"</a>&nbsp;<a id=\\\"confirm-btn\\\" class=\\\"btn\\\">\" + (jade.escape(null == (jade_interp = t(\"save changes\")) ? \"\" : jade_interp)) + \"</a></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),model = locals_.model;\nbuf.push(\"<p>\");\nif ( model.status == 'ACCEPTED')\n{\nbuf.push(\"<i class=\\\"icon-ok-circle green\\\"></i>\");\n}\nelse if ( model.status == 'DECLINED')\n{\nbuf.push(\"<i class=\\\"icon-ban-circle red\\\"></i>\");\n}\nelse if ( model.status == 'NEED-ACTION')\n{\nbuf.push(\"<i class=\\\"icon-time blue\\\"></i>\");\n}\nbuf.push(\"&nbsp;\" + (jade.escape((jade_interp = model.email) == null ? '' : jade_interp)) + \"</p>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),rrule = locals_.rrule,freqSelected = locals_.freqSelected,units = locals_.units,weekDays = locals_.weekDays,wkdaySelected = locals_.wkdaySelected,yearModeIs = locals_.yearModeIs,endModeSelected = locals_.endModeSelected;\nbuf.push(\"<p id=\\\"rrule-short\\\"><i class=\\\"icon-arrow-right\\\"></i><span id=\\\"rrule-help\\\"></span><span id=\\\"rrule-action\\\">&nbsp;-&nbsp;<a class=\\\"rrule-show\\\">\" + (jade.escape(null == (jade_interp = t('Edit')) ? \"\" : jade_interp)) + \"</a></span></p><form id=\\\"rrule\\\" class=\\\"form-inline\\\"><label for=\\\"rrule-interval\\\" class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('repeat every')) ? \"\" : jade_interp)) + \"</label><div class=\\\"control-group\\\"><input id=\\\"rrule-interval\\\" type=\\\"number\\\" min=\\\"1\\\"\" + (jade.attr(\"value\", rrule.interval, true, false)) + \" class=\\\"col-xs2 input-mini\\\"/><select id=\\\"rrule-freq\\\"><option value=\\\"NOREPEAT\\\"\" + (jade.attr(\"selected\", freqSelected('NOREPEAT'), true, false)) + \">\" + (jade.escape(null == (jade_interp = t('no recurrence')) ? \"\" : jade_interp)) + \"</option><option\" + (jade.attr(\"value\", RRule.DAILY, true, false)) + (jade.attr(\"selected\", freqSelected(RRule.DAILY), true, false)) + \">\" + (jade.escape(null == (jade_interp = units[4]) ? \"\" : jade_interp)) + \"</option><option\" + (jade.attr(\"value\", RRule.WEEKLY, true, false)) + (jade.attr(\"selected\", freqSelected(RRule.WEEKLY), true, false)) + \">\" + (jade.escape(null == (jade_interp = units[5]) ? \"\" : jade_interp)) + \"</option><option\" + (jade.attr(\"value\", RRule.MONTHLY, true, false)) + (jade.attr(\"selected\", freqSelected(RRule.MONTHLY), true, false)) + \">\" + (jade.escape(null == (jade_interp = units[6]) ? \"\" : jade_interp)) + \"</option><option\" + (jade.attr(\"value\", RRule.YEARLY, true, false)) + (jade.attr(\"selected\", freqSelected(RRule.YEARLY), true, false)) + \">\" + (jade.escape(null == (jade_interp = units[7]) ? \"\" : jade_interp)) + \"</option></select></div><div id=\\\"rrule-weekdays\\\"><label class=\\\"control-label\\\">\" + (jade.escape(null == (jade_interp = t('repeat on')) ? \"\" : jade_interp)) + \"</label><div class=\\\"control-group\\\"><label class=\\\"checkbox inline\\\">\" + (jade.escape(null == (jade_interp = weekDays[1]) ? \"\" : jade_interp)) + \"<input type=\\\"checkbox\\\" value=\\\"1\\\"\" + (jade.attr(\"checked\", wkdaySelected(1), true, false)) + \"/></label><label class=\\\"checkbox inline\\\">\" + (jade.escape(null == (jade_interp = weekDays[2]) ? \"\" : jade_interp)) + \"<input type=\\\"checkbox\\\" value=\\\"2\\\"\" + (jade.attr(\"checked\", wkdaySelected(2), true, false)) + \"/></label><label class=\\\"checkbox inline\\\">\" + (jade.escape(null == (jade_interp = weekDays[3]) ? \"\" : jade_interp)) + \"<input type=\\\"checkbox\\\" value=\\\"3\\\"\" + (jade.attr(\"checked\", wkdaySelected(3), true, false)) + \"/></label><label class=\\\"checkbox inline\\\">\" + (jade.escape(null == (jade_interp = weekDays[4]) ? \"\" : jade_interp)) + \"<input type=\\\"checkbox\\\" value=\\\"4\\\"\" + (jade.attr(\"checked\", wkdaySelected(4), true, false)) + \"/></label><label class=\\\"checkbox inline\\\">\" + (jade.escape(null == (jade_interp = weekDays[5]) ? \"\" : jade_interp)) + \"<input type=\\\"checkbox\\\" value=\\\"5\\\"\" + (jade.attr(\"checked\", wkdaySelected(5), true, false)) + \"/></label><label class=\\\"checkbox inline\\\">\" + (jade.escape(null == (jade_interp = weekDays[6]) ? \"\" : jade_interp)) + \"<input type=\\\"checkbox\\\" value=\\\"6\\\"\" + (jade.attr(\"checked\", wkdaySelected(6), true, false)) + \"/></label><label class=\\\"checkbox inline\\\">\" + (jade.escape(null == (jade_interp = weekDays[0]) ? \"\" : jade_interp)) + \"<input type=\\\"checkbox\\\" value=\\\"0\\\"\" + (jade.attr(\"checked\", wkdaySelected(0), true, false)) + \"/></label></div></div><div id=\\\"rrule-monthdays\\\" class=\\\"control-group\\\"><div class=\\\"controls\\\"><label class=\\\"checkbox inline\\\"><input type=\\\"radio\\\"\" + (jade.attr(\"checked\", yearModeIs('date'), true, false)) + \" name=\\\"rrule-month-option\\\" value=\\\"date\\\"/>\" + (jade.escape(null == (jade_interp = t('repeat on date')) ? \"\" : jade_interp)) + \"</label><label class=\\\"checkbox inline\\\"><input type=\\\"radio\\\"\" + (jade.attr(\"checked\", yearModeIs('weekdate'), true, false)) + \" name=\\\"rrule-month-option\\\" value=\\\"weekdate\\\"/>\" + (jade.escape(null == (jade_interp = t('repeat on weekday')) ? \"\" : jade_interp)) + \"</label></div></div><label for=\\\"rrule-until\\\">\" + (jade.escape(null == (jade_interp = t('repeat')) ? \"\" : jade_interp)) + \"</label><div class=\\\"control-group\\\"><label class=\\\"radio\\\"><input type=\\\"radio\\\" name=\\\"endMode\\\" value=\\\"forever\\\"\" + (jade.attr(\"checked\", endModeSelected('forever'), true, false)) + \"/>\" + (jade.escape(null == (jade_interp = t('forever')) ? \"\" : jade_interp)) + \"</label></div><div class=\\\"control-group\\\"><label class=\\\"radio\\\"><input type=\\\"radio\\\" name=\\\"endMode\\\" value=\\\"count\\\"\" + (jade.attr(\"checked\", endModeSelected('count'), true, false)) + \"/><label for=\\\"rrule-count\\\">\" + (jade.escape(null == (jade_interp = t('after')) ? \"\" : jade_interp)) + \"</label><input id=\\\"rrule-count\\\" type=\\\"number\\\" min=\\\"0\\\"\" + (jade.attr(\"value\", rrule.count, true, false)) + \" class=\\\"input-mini\\\"/><label for=\\\"rrule-count\\\">\" + (jade.escape(null == (jade_interp = t('occurences')) ? \"\" : jade_interp)) + \"</label></label></div><div class=\\\"control-group\\\"><label class=\\\"radio\\\"><input type=\\\"radio\\\" name=\\\"endMode\\\" value=\\\"until\\\"\" + (jade.attr(\"checked\", endModeSelected('until'), true, false)) + \"/><label for=\\\"rrule-count\\\">\" + (jade.escape(null == (jade_interp = t('until')) ? \"\" : jade_interp)) + \"</label><input id=\\\"rrule-until\\\" type=\\\"date\\\"\" + (jade.attr(\"value\", rrule.until, true, false)) + \"/></label></div></form>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),time = locals_.time,description = locals_.description,action = locals_.action;\nbuf.push(\"<p>\" + (jade.escape((jade_interp = time) == null ? '' : jade_interp)) + \"\\n\" + (jade.escape((jade_interp = description) == null ? '' : jade_interp)) + \" (\" + (jade.escape((jade_interp = action) == null ? '' : jade_interp)) + \")</p>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),start = locals_.start,end = locals_.end,description = locals_.description,place = locals_.place;\nbuf.push(\"<p>\" + (jade.escape((jade_interp = start) == null ? '' : jade_interp)) + \" - \" + (jade.escape((jade_interp = end) == null ? '' : jade_interp)) + \"\\n\" + (jade.escape((jade_interp = description) == null ? '' : jade_interp)) + \" (\" + (jade.escape((jade_interp = place) == null ? '' : jade_interp)) + \")</p>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"import-form\\\" class=\\\"well\\\"><div class=\\\"import-calendar-selection mb2\\\"><span>\" + (jade.escape(null == (jade_interp = t('link imported events with calendar')) ? \"\" : jade_interp)) + \"</span><br/><input id=\\\"import-calendar-combo\\\" class=\\\"mt1\\\"/></div><p>\" + (jade.escape(null == (jade_interp = t('import an ical file') ) ? \"\" : jade_interp)) + \"</p><div class=\\\"import-form\\\"><div id=\\\"import-button\\\" class=\\\"btn\\\"><span>\" + (jade.escape(null == (jade_interp = t('select an icalendar file')) ? \"\" : jade_interp)) + \"</span><input id=\\\"import-file-input\\\" type=\\\"file\\\"/></div></div><div class=\\\"confirmation\\\"><button id=\\\"confirm-import-button\\\" class=\\\"btn\\\">\" + (jade.escape(null == (jade_interp = t('confirm import')) ? \"\" : jade_interp)) + \"</button><button id=\\\"cancel-import-button\\\" class=\\\"btn\\\">\" + (jade.escape(null == (jade_interp = t ('cancel')) ? \"\" : jade_interp)) + \"</button></div><div class=\\\"import-progress mt3\\\"></div><div class=\\\"import-errors mt3\\\"></div><div class=\\\"results mt3\\\"><h4>\" + (jade.escape(null == (jade_interp = t('Alarms to import')) ? \"\" : jade_interp)) + \"</h4><div id=\\\"import-alarm-list\\\"></div><h4>\" + (jade.escape(null == (jade_interp = t('Events to import')) ? \"\" : jade_interp)) + \"</h4><div id=\\\"import-event-list\\\"></div></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div id=\\\"alarm-list\\\" class=\\\"well\\\"></div><a class=\\\"btn showbefore\\\">\" + (jade.escape(null == (jade_interp = t('display previous events')) ? \"\" : jade_interp)) + \"</a>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),date = locals_.date;\nbuf.push(\"<h2>\" + (jade.escape((jade_interp = date) == null ? '' : jade_interp)) + \"</h2><div class=\\\"alarms\\\"></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),type = locals_.type,color = locals_.color,timezoneHour = locals_.timezoneHour,timezone = locals_.timezone,time = locals_.time,description = locals_.description,action = locals_.action,start = locals_.start,end = locals_.end;\nif ( type == 'alarm')\n{\nbuf.push(\"<p><span\" + (jade.attr(\"style\", \"background-color:\"+color+\";\", true, false)) + \" class=\\\"badge\\\">&nbsp;</span>\");\nif ( typeof timezoneHour != 'undefined')\n{\nbuf.push(\"<span\" + (jade.attr(\"title\", \"\" + (timezoneHour) + \" - \" + (timezone) + \"\", true, false)) + \">\" + (jade.escape((jade_interp = time) == null ? '' : jade_interp)) + \"</span>\");\n}\nelse\n{\nbuf.push(\"<span>\" + (jade.escape((jade_interp = time) == null ? '' : jade_interp)) + \"</span>\");\n}\nbuf.push(\" \" + (jade.escape((jade_interp = description) == null ? '' : jade_interp)) + \" (\" + (jade.escape((jade_interp = t(action)) == null ? '' : jade_interp)) + \")<i class=\\\"icon-trash\\\"></i></p>\");\n}\nelse if ( type == 'event')\n{\nbuf.push(\"<p><span\" + (jade.attr(\"style\", \"background-color:\"+color+\";\", true, false)) + \" class=\\\"badge\\\">&nbsp;</span>\" + (jade.escape((jade_interp = start) == null ? '' : jade_interp)) + \" - \" + (jade.escape((jade_interp = end) == null ? '' : jade_interp)) + \"\\n\" + (jade.escape((jade_interp = description) == null ? '' : jade_interp)) + \"<i class=\\\"icon-trash\\\"></i></p>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<li><a href=\\\"#sync\\\"><i class=\\\"fa-refresh\\\"></i><span>\" + (jade.escape(null == (jade_interp = t('Sync')) ? \"\" : jade_interp)) + \"</span></a></li><li class=\\\"calendars\\\"><a href=\\\"#calendar\\\"><i class=\\\"fa-calendar\\\"></i><span>\" + (jade.escape(null == (jade_interp = t('Calendar')) ? \"\" : jade_interp)) + \"</span></a></li><ul id=\\\"menuitems\\\"></ul>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),back = locals_.back,visible = locals_.visible,color = locals_.color,border = locals_.border,label = locals_.label;\nback = visible?color:\"transparent\"\nborder = visible?\"transparent\":color\nbuf.push(\"<span\" + (jade.attr(\"style\", \"background-color:\" + back + \"; border: 1px solid \"+border+\";\", true, false)) + \" class=\\\"badge true\\\">&nbsp;</span><span>\" + (jade.escape(null == (jade_interp = label) ? \"\" : jade_interp)) + \"</span>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),type = locals_.type,time = locals_.time,timezones = locals_.timezones,timezone = locals_.timezone,description = locals_.description,start = locals_.start,end = locals_.end,diff = locals_.diff,place = locals_.place,advancedUrl = locals_.advancedUrl,editionMode = locals_.editionMode;\nif ( type == 'alarm')\n{\nbuf.push(\"<div class=\\\"line\\\"><input id=\\\"input-time\\\" type=\\\"time\\\"\" + (jade.attr(\"value\", time, true, false)) + \" class=\\\"focused input-mini\\\"/><select id=\\\"input-timezone\\\" class=\\\"input\\\">\");\n// iterate timezones\n;(function(){\n  var $$obj = timezones;\n  if ('number' == typeof $$obj.length) {\n\n    for (var $index = 0, $$l = $$obj.length; $index < $$l; $index++) {\n      var tz = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attr(\"value\", tz, true, false)) + (jade.attr(\"selected\", (timezone == tz), true, false)) + \">\" + (jade.escape(null == (jade_interp = tz) ? \"\" : jade_interp)) + \"</option>\");\n    }\n\n  } else {\n    var $$l = 0;\n    for (var $index in $$obj) {\n      $$l++;      var tz = $$obj[$index];\n\nbuf.push(\"<option\" + (jade.attr(\"value\", tz, true, false)) + (jade.attr(\"selected\", (timezone == tz), true, false)) + \">\" + (jade.escape(null == (jade_interp = tz) ? \"\" : jade_interp)) + \"</option>\");\n    }\n\n  }\n}).call(this);\n\nbuf.push(\"</select></div><div class=\\\"line\\\"><input id=\\\"input-desc\\\" type=\\\"text\\\"\" + (jade.attr(\"value\", description, true, false)) + (jade.attr(\"placeholder\", t(\"alarm description placeholder\"), true, false)) + \" class=\\\"input-xlarge w100\\\"/></div><div class=\\\"line\\\"><div id=\\\"rrule-container\\\"></div></div><div class=\\\"popover-footer\\\"><a class=\\\"btn add\\\">\" + (jade.escape(null == (jade_interp = t('Edit')) ? \"\" : jade_interp)) + \"</a></div>\");\n}\nelse if ( type = 'event')\n{\nbuf.push(\"<div class=\\\"line\\\"><span class=\\\"timeseparator\\\">\" + (jade.escape(null == (jade_interp = t(\"from\")) ? \"\" : jade_interp)) + \"</span><input id=\\\"input-start\\\" type=\\\"time\\\"\" + (jade.attr(\"value\", start, true, false)) + (jade.attr(\"placeholder\", t(\"From hours:minutes\"), true, false)) + \" class=\\\"focused input-mini\\\"/><span>&nbsp;</span><span class=\\\"timeseparator\\\">\" + (jade.escape(null == (jade_interp = t(\"to\")) ? \"\" : jade_interp)) + \"</span><input id=\\\"input-end\\\" type=\\\"time\\\"\" + (jade.attr(\"value\", end, true, false)) + (jade.attr(\"placeholder\", t(\"To hours:minutes+days\"), true, false)) + \" class=\\\"input-mini\\\"/><span>&nbsp;</span><input id=\\\"input-diff\\\" type=\\\"number\\\"\" + (jade.attr(\"value\", diff, true, false)) + \" placeholder=\\\"0\\\" min=\\\"0\\\" class=\\\"col-xs2 input-mini\\\"/><span>&nbsp;</span><span class=\\\"timeseparator\\\">\" + (jade.escape(null == (jade_interp = ' ' + t('days later')) ? \"\" : jade_interp)) + \"</span></div><div class=\\\"line\\\"><input id=\\\"input-desc\\\" type=\\\"text\\\"\" + (jade.attr(\"value\", description, true, false)) + (jade.attr(\"placeholder\", t(\"Summary\"), true, false)) + \" class=\\\"input\\\"/><input id=\\\"input-place\\\" type=\\\"text\\\"\" + (jade.attr(\"value\", place, true, false)) + (jade.attr(\"placeholder\", t(\"Place\"), true, false)) + \" class=\\\"input-small\\\"/><a id=\\\"showmap\\\" target=\\\"_blank\\\" class=\\\"btn\\\"><i class=\\\"icon-white icon-map-marker\\\"></i></a></div><div class=\\\"popover-footer line\\\"><a\" + (jade.attr(\"href\", '#'+advancedUrl, true, false)) + \" class=\\\"advanced-link\\\">\" + (jade.escape(null == (jade_interp = t('advanced')) ? \"\" : jade_interp)) + \"</a><span>&nbsp;</span><a class=\\\"btn add\\\">\" + (jade.escape(null == (jade_interp = editionMode ? t('Edit') : t('Create')) ? \"\" : jade_interp)) + \"</a></div>\");\n};return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\nvar locals_ = (locals || {}),calendar = locals_.calendar,editionMode = locals_.editionMode,type = locals_.type;\nbuf.push(\"<input id=\\\"calendarcombo\\\"\" + (jade.attr(\"value\", calendar, true, false)) + \"/>\");\nif ( !editionMode)\n{\nbuf.push(\"<a id=\\\"toggle-type\\\">\" + (jade.escape(null == (jade_interp = t('change to') + \" \" + t(type=='event'?'alarm':'event')) ? \"\" : jade_interp)) + \"</a>\");\n}\nbuf.push(\"<button\" + (jade.attr(\"title\", t('close'), true, false)) + \" class=\\\"close\\\">&times;</button><i\" + (jade.attr(\"title\", t('delete'), true, false)) + \" class=\\\"remove icon-trash\\\"></i>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","var __templateData = function template(locals) {\nvar buf = [];\nvar jade_mixins = {};\nvar jade_interp;\n\nbuf.push(\"<div class=\\\"helptext\\\"><h2>\" + (jade.escape(null == (jade_interp = t('synchronization')) ? \"\" : jade_interp)) + \"</h2></div><div class=\\\"helptext\\\"><h3>\" + (jade.escape(null == (jade_interp = t('mobile sync')) ? \"\" : jade_interp)) + \"</h3><p>\" + (jade.escape(null == (jade_interp = t('to sync your cal with')) ? \"\" : jade_interp)) + \"</p><ol><li>\" + (jade.escape(null == (jade_interp = t('install the webdav module')) ? \"\" : jade_interp)) + \"</li><li>\" + (jade.escape(null == (jade_interp = t('connect to it and follow')) ? \"\" : jade_interp)) + \"</li></ol></div><div class=\\\"helptext\\\"><h3>\" + (jade.escape(null == (jade_interp = t('icalendar export')) ? \"\" : jade_interp)) + \"</h3><p>\" + (jade.escape(null == (jade_interp = t('download a copy of your calendar')) ? \"\" : jade_interp)) + \"</p><p><a href=\\\"export/calendar.ics\\\" class=\\\"btn\\\">\" + (jade.escape(null == (jade_interp = t('export your calendar')) ? \"\" : jade_interp)) + \"</a></p></div><div class=\\\"helptext\\\"><h3>\" + (jade.escape(null == (jade_interp = t('icalendar import')) ? \"\" : jade_interp)) + \"</h3><div id=\\\"importviewplaceholder\\\"></div></div>\");;return buf.join(\"\");\n};\nif (typeof define === 'function' && define.amd) {\n  define([], function() {\n    return __templateData;\n  });\n} else if (typeof module === 'object' && module && module.exports) {\n  module.exports = __templateData;\n} else {\n  __templateData;\n}","BaseView = require '../lib/base_view'\n\n\nmodule.exports = class Toggle extends BaseView\n\n    value: false\n    tagName: 'span'\n    className: 'badge'\n    template: (data) ->\n        \"<i class='icon-#{data.icon}'></i>\"\n\n    initialize: (options) ->\n        @value = options.value\n        @icon = options.icon\n        @label = options.label\n        @render()\n        @toggle @value\n\n    getRenderData: () -> icon: @icon\n\n    events: ->\n        'click': => @toggle()\n\n    toggle: (value) ->\n        value ?= not @value\n        @value = value\n        if @value\n            @$el.addClass 'badge-info'\n            @$('i').addClass 'icon-white'\n        else\n            @$el.removeClass 'badge-info'\n            @$('i').removeClass 'icon-white'\n\n        title = @label + ' : ' + t(if value then 'ON' else 'OFF')\n        @$el.attr 'title', title\n        @trigger 'toggle', value","colorhash = require 'lib/colorhash'\nBaseView  = require 'lib/base_view'\n\nmodule.exports = class ComboBox extends BaseView\n\n    events:\n        'keyup': 'updateBadge'\n        'keypress': 'updateBadge'\n        'change': 'updateBadge'\n        'blur': 'onBlur'\n\n    initialize: (options) ->\n        super\n        @$el.autocomplete\n            delay: 0\n            minLength: 0\n            source: options.source\n            close: @onClose\n            open: @onOpen\n            select: @onSelect\n        @$el.addClass 'combobox'\n        @small = options.small\n\n        @autocompleteWidget = @$el.data 'ui-autocomplete'\n        @autocompleteWidget._renderItem = @renderItem\n\n        isInput = @$el[0].nodeName.toLowerCase() is 'input'\n        method = @$el[if isInput then \"val\" else \"text\"]\n        @value = => method.apply @$el, arguments\n\n        unless @small\n            caret = $ '<a class=\"combobox-caret\">'\n            caret.append $ '<span class=\"caret\"></span>'\n            caret.click @openMenu\n            @$el.after caret\n\n        @updateBadge()\n\n    openMenu: =>\n        @menuOpen = true\n        @$el.addClass 'expanded'\n        @$el.focus().val(@value()).autocomplete 'search', ''\n\n    onOpen: => @menuOpen = true\n\n    onClose: =>\n        @menuOpen = false\n        @$el.removeClass 'expanded' unless @$el.is ':focus'\n\n    onBlur: =>\n        @$el.removeClass 'expanded' unless @menuOpen\n\n    onSelect: (ev, ui) =>\n        @$el.blur().removeClass 'expanded'\n        @updateBadge ev, ui\n\n    updateBadge: (ev, ui) =>\n        @badge?.remove()\n        value = ui?.item?.value or @value()\n        @badge = @makeBadge colorhash value\n        @$el.before @badge\n        return true\n\n    renderItem: (ul, item) =>\n        color = colorhash item.label\n        link = $(\"<a>\").text(item.label).prepend @makeBadge color\n        ul.append $('<li>').append(link).data 'ui-autocomplete-item', item\n\n    makeBadge: (color) ->\n        badge = $ '<span class=\"badge combobox-badge\">'\n        .html '&nbsp;'\n        .css 'backgroundColor', color\n        .css 'cursor', 'pointer'\n        .click @openMenu\n\n        if @small\n            badge.attr 'title', t 'change calendar'\n\n        return badge\n\n    remove: =>\n        @autocompleteWidget.destroy()\n        super"]}