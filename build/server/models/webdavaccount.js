// Generated by CoffeeScript 1.9.0
var WebDAVAccount, americano;

americano = require('americano-cozy');

module.exports = WebDAVAccount = americano.getModel('WebDAVAccount', {
  id: String,
  login: String,
  token: String,
  password: String,
  ctag: Number,
  cardctag: Number
});

WebDAVAccount.first = function(callback) {
  return WebDAVAccount.request('all', function(err, accounts) {
    if (err) {
      return callback(err);
    } else if (!accounts || accounts.length === 0) {
      return callback(null, null);
    } else {
      return callback(null, accounts[0]);
    }
  });
};
