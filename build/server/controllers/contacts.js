// Generated by CoffeeScript 1.8.0
var Contact;

Contact = require('../models/contact');

module.exports.fetch = function(req, res, next, id) {
  return Contact.find(id, function(err, contact) {
    if (err) {
      return res.send({
        error: err
      }, 500);
    }
    if (!contact) {
      return res.send({
        error: 'Contact not found'
      }, 404);
    }
    req.contact = contact;
    return next();
  });
};

module.exports.list = function(req, res) {
  return Contact.request('all', function(err, contacts) {
    if (err) {
      return res.send({
        error: err
      }, 500);
    }
    return res.send(contacts);
  });
};

module.exports.read = function(req, res) {
  return res.send(req.contact);
};
