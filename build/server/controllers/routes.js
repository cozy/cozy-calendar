// Generated by CoffeeScript 1.10.0
var ContactsController, SimpleController, events, ical, index, tags;

SimpleController = require('cozydb').SimpleController;

tags = require('./tags');

events = require('./events');

index = require('./index');

ical = require('./ical');

ContactsController = new SimpleController({
  model: require('../models/contact'),
  reqProp: 'contact',
  reqParamID: 'contactid'
});

module.exports = {
  '': {
    get: index.index
  },
  'tags': {
    get: tags.all,
    post: tags.create
  },
  'tagid': {
    param: tags.fetch
  },
  'tags/:tagid': {
    get: tags.read,
    put: tags.update,
    "delete": tags["delete"]
  },
  'eventid': {
    param: events.fetch
  },
  'events': {
    get: events.all,
    post: events.create
  },
  'events/bulk': {
    post: events.createBulk
  },
  'events/:year/:month': {
    get: events.monthEvents
  },
  'events/rename-calendar': {
    post: events.bulkCalendarRename
  },
  'events/delete': {
    post: events.bulkDelete
  },
  'events/:eventid': {
    get: events.read,
    put: events.update,
    "delete": events["delete"]
  },
  'events/:eventid/:name.ics': {
    get: events.ical
  },
  'public/events/:eventid/:name.ics': {
    get: events.publicIcal
  },
  'public/events/:publiceventid': {
    get: events["public"]
  },
  'export/:calendarid.ics': {
    get: ical["export"]
  },
  'exportzip/:ids': {
    get: ical.zipExport
  },
  'import/ical': {
    post: ical["import"]
  },
  'contacts': {
    get: ContactsController.listAll
  },
  'contacts/:contactid.jpg': {
    get: ContactsController.sendAttachment({
      filename: 'picture'
    })
  },
  'log': {
    post: index.logClient
  }
};
